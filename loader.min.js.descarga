/*January 3, 2025, 11:47 am*/var vtstore;function checkInit(){var t,n=!1;try{n=!(0<=window.location.search.indexOf("vt_stop=true")),n=!(0<=document.cookie.indexOf("vt_stop"))&&n,n=!window.vt_stop&&n,window.ignore_vt_stop&&(n=!0),_vtsdk.state.running=n}catch(t){n=!1}window.top!==window.self&&(n=!1);try{0<=window.location.search.indexOf("vt_validate=true")&&(e=_vtsdk.Helpers.getURLParams(window.location.search),t=_vtsdk.Helpers.addQueryString(_vtsdk.defaults.validateUrl,e),_vtsdk.Helpers.getAsync(t),n=!1)}catch(t){}if(_vtsdk&&!0===_vtsdk.state.ready){n=!1;try{console.log("VTSDK ready.")}catch(t){}}if(n){for(var e,o=3,a=document.createElement("div"),i=a.getElementsByTagName("i");a.innerHTML="\x3c!--[if gt IE "+ ++o+"]><i></i><![endif]--\x3e",i[0];);n=9<=(o=o<=4?(e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:|Edge\/)(\d+)/))?parseInt(e[1]):-1:o)||-1==o}n&&_vtsdk.init()}"object"!=typeof vtstore&&(vtstore={}),!function(t){t.vtstore=function(){function t(){try{return o in n&&n[o]}catch(t){return!1}}var i={},n=window,e=n.document,o="localStorage",a="script",s,r,c;if(i.disabled=!1,i.version="1.3.17",i.set=function(t,n){},i.get=function(t,n){},i.has=function(t){return i.get(t)!==undefined},i.remove=function(t){},i.clear=function(){},i.transact=function(t,n,e){e==null&&(e=n,n=null),n==null&&(n={});var o=i.get(t,n);e(o),i.set(t,o)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(t){return JSON.stringify(t)},i.deserialize=function(n){if(typeof n!="string")return undefined;try{return JSON.parse(n)}catch(t){return n||undefined}},t())s=n[o],i.set=function(t,n){return n===undefined?i.remove(t):(s.setItem(t,i.serialize(n)),n)},i.get=function(t,n){var e=i.deserialize(s.getItem(t));return e===undefined?n:e},i.remove=function(t){s.removeItem(t)},i.clear=function(){s.clear()},i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=function(t){for(var n=0;n<s.length;n++){var e=s.key(n);t(e,i.get(e))}};else if(e.documentElement.addBehavior){try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+a+">document.w=window</"+a+'><iframe src="/favicon.ico"></iframe>'),c.close(),r=c.w.frames[0].document,s=r.createElement("div")}catch(t){s=e.createElement("div"),r=e.body}var p=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(s),r.appendChild(s),s.addBehavior("#default#userData"),s.load(o);var n=e.apply(i,t);return r.removeChild(s),n}},l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(t){return t.replace(/^d/,"___$&").replace(l,"___")};i.set=p(function(t,n,e){return n=d(n),e===undefined?i.remove(n):(t.setAttribute(n,i.serialize(e)),t.save(o),e)}),i.get=p(function(t,n,e){n=d(n);var o=i.deserialize(t.getAttribute(n));return o===undefined?e:o}),i.remove=p(function(t,n){n=d(n),t.removeAttribute(n),t.save(o)}),i.clear=p(function(t){var n=t.XMLDocument.documentElement.attributes;t.load(o);for(var e=n.length-1;e>=0;e--)t.removeAttribute(n[e].name);t.save(o)}),i.getAll=function(t){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=p(function(t,n){var e=t.XMLDocument.documentElement.attributes;for(var o=0,a;a=e[o];++o)n(a.name,i.deserialize(t.getAttribute(a.name)))})}try{var m="__storejs__";i.set(m,m),i.get(m)!=m&&(i.disabled=!0),i.remove(m)}catch(t){i.disabled=!0}return i.enabled=!i.disabled,vtstore=i}()}(this),!function(t){var o,n,e,a,i,s;t.vtlodash=(a=function(t,n){var e=Object.prototype.toString.call(n).slice(8,-1);return null!=n&&e===t},{isObject:function(t){return a("Object",t)},isArray:function(t){return a("Array",t)},merge:i=function(e){return[].slice.call(arguments,1).forEach(function(t){for(var n in t)n in e&&a("Array",e[n])?e[n]=e[n].concat(t[n]):n in e&&a("Object",e[n])?e[n]=i(e[n],t[n]):e[n]=t[n]}),e},overwrite:s=function(t,n){for(var e in t)t.hasOwnProperty(e)&&!o(n[e])&&(a("Object",t[e])&&a("Object",n[e])?t[e]=s(t[e],n[e]):t[e]=n[e]);return t},size:e=function(t){if(null==t)return 0;try{return(a("Array",t)?t:Object.keys(t)).length}catch(t){return 0}},isNull:function(t){return null===t},isNumber:function(t){return a("Number",t)},isBoolean:function(t){return a("Boolean",t)},isString:function(t){return a("String",t)},isFunction:n=function(t){return t&&"[object Function]"==={}.toString.call(t)},isUndefined:o=function(t){return void 0===t},isArguments:function(t){return a("Arguments",t)},isEmpty:function(t){return a("Object",t)&&a("Array",t)&&a("String",t)&&!n(t.splice)?!Object.keys(t).length:!e(t)},request:function(t,n){var e={bindFunction:function(t,n){return function(){try{return t.apply(n,[n])}catch(t){}}},stateChange:function(t){try{4==e.request.readyState&&e.callbackFunction(e.request.responseText)}catch(t){}},getRequest:function(){try{return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):!!window.XMLHttpRequest&&new XMLHttpRequest}catch(t){}}};if(e.postBody=arguments[2]||"",e.callbackFunction=n,e.url=t,e.request=e.getRequest(),e.request)try{var o=e.request;o.onreadystatechange=e.bindFunction(e.stateChange,e),""!==e.postBody?(o.open("POST",t,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-type","application/x-www-form-urlencoded")):o.open("GET",t,!0),o.send(e.postBody)}catch(t){}}})}(this),window._vteq=window._vteq||[],window._vtsdk&&!window.ignore_vt_stop||(window._vtsdk=function(){var documentAlias=document,windowAlias=window,object={v:"20.9.5",defaults:{tags:{prefix:"**|",suffix:"|**"},cdns:[4],cookieNames:{all:"all",ne:"ne",push:"pushtkn",ts:"ts",shop:"shop",sess:"sess",uId:"user",webid:"webid",debug:"debug",backendCache:"bcache",stopevents:"stopevents",campaignsStatus:"cs",condCount:"count",visitor:"info",capping:"cap_",poll:"poll",contentStep:"cstep_",cStatus:"c_"},debug:"info",queueCheckInterval:500,visitorHost:"https://pro.ip-api.com/json/?key=aUoasJP8dMuydUf",visitorCallback:"_vtsdk.tasks.callbackVisitor",eventHost:"https://app.cybba.solutions/event/",eventCallback:"_vtsdk.eventApi.callbackEvent",reccsHost:"https://rec.cybba.solutions/html/",reccsCallbackContent:"_vtsdk.Recommender.callBackRecommenderContent",reccsCallbackTwo:"_vtsdk.Recommender.callBackRecommenderTwo",userHost:"https://app.cybba.solutions/user",userCallback:"_vtsdk.User.callbackUser",backendHost:"https://rec.cybba.solutions/check/",backendCallback:"_vtsdk.Campaign.triggerCampaigns",cacheBackendCheck:"_vtsdk.Campaign.cacheBackendCheck",mcUrl:"https://pages.cybba.solutions/integrations/mailchimp.php",validateUrl:"https://pages.cybba.solutions/tasks/util/jsValidation.php",prefix:"_vt_",monthDuration:2592e6,dayDuration:864e5,shortDuration:36e6,sessionDuration:432e5,expiration:31536e6,nowTime:(new Date).getTime(),nowTimeLocal:(new Date).getTime(),userIndentityParams:["vt_user","email"],userKeyLength:16,loaderGif:"https://files1.cybba.solutions/_assets/images/ajax-loader.gif",stylesheet:"https://files1.cybba.solutions/_assets/vtmarketing.min.css",idPrefix:"vt-campaign-",recc:{className:"vt-campaign",attributeId:"data-vt-id",cIdLength:7},siteEvents:{click:"siteclick",submit:"sitesubmit",display:"sitedisplay",close:"siteclose",referer:"referer"},siteClasses:{close:"vtw-close",click:"vtw-click",overlay:"vtw-bck",toggle:"vtw-toggle",error:"vtw-error",attr:"vtw-attr",attrPrefix:"vta-",classPrefix:"vtw-",submit:"vtw-submit",required:"vtw-required",invalid:"vtw-invalid"}},state:{timeDiff:0,hasLoaded:!1,waitUserRequest:!1,ready:!1,hasUser:!1,pageQueue:[],reccCampaigns:[],calledRecommender:!1,emailToPush:!1,reccTpls:{},campaignsOK:[],pageCampaigns:{},inactivityCampaigns:[]}};return object.defaults.userIndentityParams.push("utm_ra"),object.shop={id:2334,url:"https://palaceresorts.com",params:{getVisitorInfo:!0,emailGrab:!0,customJS:"/**********************START USER INPUT**************************************/\nwindow.cybData = {};\n\n// Initialization function - allows for customization of basic settings \nwindow.configSettingsCYB = function () {\n    // Various Settings\n    cybData.allowLogs = true; //True to enable debug logs, does not turn off console.log - this will be on by default in staging\n    cybData.cookieStaging = false; //Initalizes cookie staging mode if true and panel will only fire with the cookie - MUST BE FALSE WHEN LIVE (cybbatest=true)\n    cybData.pageView = true;\n\n    //Trigger Rules for ONSITE\n    cybData.exitIntent = true;\n    cybData.onClose = false; // true/false\n    cybData.deskInactivity = 0; //time in seconds\n    cybData.mobileInactivity = 10; //time in seconds\n    cybData.mobileExit = true; // true/false - Firings on buttons from browser/OS\n    cybData.ABtest = [50, 50]; //Percentage of Firing per agent - sets Cookie \"CYB_AB\" with the index of the agent to be fired\n    cybData.sessionMgmt = {\n        timesPerSession: 2, // Times the Onsite can fire per session without the cookie dropping\n        hours: 2 // Time in hours when the onsite can next fire. \n    };\n    cybData.triggerSensitivity = 0.75; // delay for mouse to be outside of browser to delay firing panel \n    cybData.fireTowardsX = [false, 25, 75]; // True if only firing panel when users goes towards the corners of the browser, % for left hand side, % for right hand side\n    cybData.pageForms = []; //add selectors to the array for any forms or elements that should not trigger onsite\n    cybData.addCSS = ''; //add minified CSS for custom CSS here\n    cybData.copiedText = ''; // Text for Copy Success Message, Default is \"COPIED!\" if left blank \n    cybData.SMS = {\n        enabled: false,\n        campaigns: {\n            'EMAILTEMPLATEID': \"TEMPLATEID\"\n        }\n    }\n\n    cybData.onsiteCountDown = { //if enabled and onsite has id='onsiteCountDown' (case insensitive)\n        enabled: false,\n        time: 'Jan 1, 2019 00:00:00', // must be date, number (getTime()), or date string\n        closeOnExpiration: false, // Close onsite after time expiration\n        expiredText: \"EXPIRED\",\n        padNums: true, // shows 09 instead of 9\n        hideZeroes: false, // does not show 0m 30s, instead shows 30s\n        /* ADD THIS HTML TO ONSITE FOR IT TO WORK PROPERLY\n        <div class=\"countdown-timer\" id=\"onsiteCountDown\" style=\"display:inline\"> \n            <span class=\"cDays\"></span><span> d : </span>\n            <span class=\"cHours\" style=></span><span> h : </span>\n            <span class=\"cMins\"></span><span> m : </span>\n            <span class=\"cSecs\"></span><span> s</span>\n         </div>*/\n    }\n\n    /** START PROMOBAR DATA **/\n    cybData.promoBarData = {\n        'IDHERE': { // One object per promobar\n            enabled: false, //True for live, false for off\n            position: 'top',\n            countDown: { //if enabled and onsite has id='cybCountDown' (case insensitive)\n                countDownDate: 'Jan 1, 2019 00:00:00', // must be date, number (getTime()), or date string\n                countDownExpirationClose: false, // Close promobar after time expiration\n                countDownExpireText: \"EXPIRED\",\n                hasLetters: true, // eg. 4d 6h 2m 10s vs 4:6:2:10\n                padNums: true, // shows 09 instead of 9\n                hideZeroes: false, // does not show 0m 30s, instead shows 30s,\n                syncTime: false // Have time synchronized to initial fire\n            },\n            triggers: {\n                onload: {\n                    enabled: false,\n                    conditionally: true //false will fire the same one every load, true will check filters first\n                },\n                afterOE: { //Fires after an Onsite, on next reload\n                    enabled: false,\n                    checkFilters: true\n                },\n                mobile: true,\n                onOEClose: {\n                    enabled: false,\n                    onsiteId: '', //Fires immediately after X button closed on the onsite\n                    conditionally: false\n                },\n                exitIntent: false,\n                persist: { // promobar persists after initial fire dependent on filters, also works to just filter after CYBSession cookie exists\n                    enabled: false,\n                    conditionally: false //false will fire the same one every load, true will check filters first\n                },\n                inactivity: 60\n            },\n            sessionMgmt: {\n                enabled: true,\n                timesPerSession: 1,\n                hours: 2\n            },\n            stickyNav: {\n                hasStickyNav: false,\n                selector: ''\n            },\n            customJS: { //add JS to run on load or close of promobar\n                load: \"\",\n                close: \"\"\n            }\n        }\n    }\n    /** END PROMOBAR DATA **/\n\n    //Dynamic Product Data\n    cybData.dynamicProductData = {\n        history: false, // true for history features\n        histObjCYB: { // selectors for product page (history) data - leave blank if not using\n            pName: \"\",\n            pPrice: \"\",\n            pImg: \"\",\n            pUrl: window.location.href\n        },\n        addImageURLPrefix: '', // use if you need to add domain or protocol to URL\n        imageIsSource: true, // true if trying to grab image src, false if image is a background image in the CSS\n        viewButtonText: 'View Item',\n        historyTabText: 'History'\n    };\n\n    // Lowers Z-Index of any element that is in-front of the onsite\n    cybData.resetZIndex = {\n        enabled: false,\n        selectors: ['']\n    };\n\n    // V1 Event Load Function\n    cybData.onsiteOnload = {\n        // for v1 set CAMPAIGNID to all to load for all creatives\n        'CAMPAIGNID': 'JS HERE' //Put in Campaign ID or all here to run JS on campaign display\n    };\n\n    /** V2 Event Functions\n    cybData.eventFunctions = {\n         onsiteOnload: {\n             // set CAMPAIGNID to all to load for all creatives\n             'CAMPAIGNID' : 'JS HERE' //Put in Campaign ID or 'all' here to run JS on campaign display\n         },\n         onsiteOnClose: {\n             // set CAMPAIGNID to all to load for all creatives\n             'CAMPAIGNID' : 'JS HERE' //Put in Campaign ID or 'all' here to run JS on campaign close\n         },\n         onsiteOnClick:{\n             // set CAMPAIGNID to all to load for all creatives\n             'CAMPAIGNID' : 'JS HERE' //Put in Campaign ID or 'all' here to run JS on campaign CTA click\n         }\n     }\n     **/\n\n\n    cybData.forceCSS = {\n        'SELECTOR': 'CSSHERE'\n    };\n\n    cybData.promptConfig = {\n        attribution: true,\n        applySessionMgmt: true\n    }\n\n    //Do not remove or modify this call\n    try {\n        window.initCheck = setTimeout(runInit, 1e3); let t = 0;\n\n        function runInit() { \"function\" == typeof initCYB ? (initCYB(), clearTimeout(initCheck)) : 5 === t ? (~document.cookie.indexOf(\"cybbatest\") && console.log(\"latest not loaded\"), clearTimeout(initCheck)) : (t++, ~document.cookie.indexOf(\"cybbatest\") && console.log(\"cybInitializing, try \" + t), initCheck = setTimeout(runInit, 1e3)) }\n    } catch (t) { console.log(t) }\n}\n//Code all things you need to have excute on load here\nwindow.onloadFunctionsCYB = function () {\n    let staging = document.cookie.includes('cybbatest');\n    let dec26_jan2 = (new Date > new Date(\"December 26, 2022 00:01:00 EST\") && new Date < new Date(\"January 2, 2023 23:59:00 EST\"));\n    let jan3_jan8 = (new Date > new Date(\"January 3, 2023 00:01:00 EST\") && new Date < new Date(\"January 8, 2023 23:59:00 EST\"));\n    let jan15_jan20 = (new Date > new Date(\"January 15, 2023 00:01:00 EST\") && new Date < new Date(\"January 20, 2023 23:59:00 EST\"));\n    \n    let cybtriggerTime = staging ? 10e3 : 60e3;\n    if (!getCookieCYB('cyb_session')) {\n        if (jan15_jan20 || !staging) {\n            setTimeout(function () {\n                if (window.location.pathname === \"/\") {\n                    if ('palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028686');\n                    } else if ('cozumel.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028687');\n                    } else if ('playacar.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028688');\n                    } else if ('sun.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028689');\n                    } else if ('beach.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028690');\n                    }\n                }\n                else if (window.location.pathname === \"/es\") {\n                    if ('palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028696');\n                    } else if ('cozumel.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028699');\n                    } else if ('playacar.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028700');\n                    } else if ('sun.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028701');\n                    } else if ('beach.palaceresorts.com' == location.host) {\n                        fireCampaignCYB('1028702');\n                    }\n                } setTimeout(\n                    function () {\n                        if (!getCookieCYB('cybtimes')) { setCookieCYB('cybtimes', 0, .5) }\n                        else { setCookieCYB('cyb_session', 1, .5) }\n                    }, 100\n                )\n\n            }, cybtriggerTime);\n\n        }\n    }\n}\n\n// Criteria Filters Here\nwindow.cybbaFilters = function () {\n    let staging = document.cookie.includes('cybbatest');\n\n    let triggerPages = {\n        'en': {\n            'palaceresorts.com/en': '1028095',\n            'https://cozumel.palaceresorts.com/en': '1028154',\n            'https://playacar.palaceresorts.com/en': '1028155',\n            'https://sun.palaceresorts.com/en': '1028156',\n            'https://beach.palaceresorts.com/en': '1028157',\n        },\n        'es': {\n            'palaceresorts.com/es': '1028073',\n            'https://cozumel.palaceresorts.com/es': '1028150',\n            'https://playacar.palaceresorts.com/es': '1028151',\n            'https://sun.palaceresorts.com/es': '1028152',\n            'https://beach.palaceresorts.com/es': '1028153'\n        }\n    }\n\n}\n\n// Promobar Criteria Filters Here\nwindow.promobarFilters = function () {}\n\n/******DO NOT REMOVE********/\nsetTimeout(configSettingsCYB, 1000);\n/******DO NOT REMOVE********/",hasActTriggers:!1,hasSendActTriggers:!1,hasRunningInteractions:!0,hasRunningContent:!1,hasRunningAds:!1,countConditions:[],webidTags:[],embedCSS:!0,getVisitorWebid:!1,pageJS:[]},agency:108,_id:2334,debug:"none",domain:"palaceresorts.com",campaigns:{1024344:{id:1024344,templates:{10026797:'<style>\n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #000 !important;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 15%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 20px;\n      padding-top: 20px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 30px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 25%;\n      padding-bottom: 2%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 3%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 40% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {\n          font-size: 16px !important;\n      }\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {\n          font-size: 12px !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      padding-bottom: 0%;\n      padding-top: 0%;\n      font-family: \'GothamRound\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 0px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #161616 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal!important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n  \n  \n  /* PRODUCT SECTION STYLES END */\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/468910/468910_PalaceResortMX_Onsite_ProducRec_SG1/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/468910/468910_PalaceResortMX_Onsite_ProducRec_SG1/images/BackgroundImage.jpg\'); background-size: cover;">\n    <div class="cybTextcontent">\n      <div class="cybHeading1">Stay on the Page\n        <br>and Save up to 50%</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">FINISH BOOKING</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026797:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024344,tpl_data:{10026797:{_ls_main:!0}}},1024345:{id:1024345,templates:{10026798:'<style>\n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #000 !important;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 15%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 20px;\n      padding-top: 20px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 30px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 25%;\n      padding-bottom: 2%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 3%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 40% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {\n          font-size: 16px !important;\n      }\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {\n          font-size: 12px !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      padding-bottom: 0%;\n      padding-top: 0%;\n      font-family: \'GothamRound\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 0px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #161616 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal!important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n  \n  \n  /* PRODUCT SECTION STYLES END */\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/468910/468910_PalaceResortMX_Onsite_ProducRec_SG1/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/468910/468910_PalaceResortMX_Onsite_ProducRec_SG1/images/BackgroundImage.jpg\'); background-size: cover;">\n    <div class="cybTextcontent">\n      <div class="cybHeading1">3, 2, 1… ¡2022 está llegando!</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">Reserva Hoy</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026798:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024345,tpl_data:{10026798:{_ls_main:!0}}},1024369:{id:1024369,templates:{10026822:'<style>\n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #fff;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 20%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 20px;\n      padding-top: 20px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 26px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 46%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium, sans-serif !important;\n   font-weight: normal !important;\n      padding-top: 3%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium, sans-serif !important;\n   font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 20% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {\n          font-size: 16px !important;\n      }\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {\n          font-size: 12px !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      padding-bottom: 0%;\n      padding-top: 0%;\n      font-family: \'GothamMedium\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 0px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #161616 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n  \n  \n  /* PRODUCT SECTION STYLES END */\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/BackgroundImage.jpg\'); background-size: cover;">\n    <div class="cybTextcontent">\n      <div class="cybHeading1">This Hot Winter Deal\n        <br> Gets Cold Soon</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">GO BACK NOW</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VIEW</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VIEW</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VIEW</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VIEW</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467782/467782_PalaceResortMX_Onsite_ProducRec_SG2/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VIEW</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026822:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024369,tpl_data:{10026822:{_ls_main:!0}}},1024370:{id:1024370,templates:{10026823:'<style>\n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://cybba-bucket.s3.amazonaws.com/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://cybba-bucket.s3.amazonaws.com/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://cybba-bucket.s3.amazonaws.com/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://cybba-bucket.s3.amazonaws.com/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://cybba-bucket.s3.amazonaws.com/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://cybba-bucket.s3.amazonaws.com/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #fff;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 20%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 20px;\n      padding-top: 20px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 30px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 25%;\n      padding-bottom: 2%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 3%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 40% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {\n          font-size: 16px !important;\n      }\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {\n          font-size: 12px !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      padding-bottom: 0%;\n      padding-top: 0%;\n      font-family: \'GothamRound\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 0px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #161616 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal!important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n  \n  \n  /* PRODUCT SECTION STYLES END */\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/BackgroundImage.jpg\'); background-size: cover;">\n    <div class="cybTextcontent">\n      <div class="cybHeading1">¿Quieres ahorrar y viajar en 2022?</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">Reserva Ahora</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026823:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024370,tpl_data:{10026823:{_ls_main:!0}}},1024438:{id:1024438,templates:{10026891:'<style>\n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #000 !important;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 18%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 10px;\n      padding-top: 10px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #373737 !important;\n      text-shadow: 4px 4px 6px #927980;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 42%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 3%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 40% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {\n          font-size: 16px !important;\n      }\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {\n          font-size: 12px !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      padding-bottom: 0%;\n      padding-top: 0%;\n      font-family: \'GothamRound\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 0px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #161616 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal!important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n  \n  \n  /* PRODUCT SECTION STYLES END */\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469442/469442_PalaceResortMX_Onsite_ProducRec_SG1/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469442/469442_PalaceResortMX_Onsite_ProducRec_SG1/images/BackgroundImage.jpg\'); background-size: cover;">\n    <div class="cybTextcontent">\n      <div class="cybHeading1">Quédate\n        <br> y obtén hasta -40%</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">RESERVA HOY</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">VER</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026891:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024438,tpl_data:{10026891:{_ls_main:!0}}},1024442:{id:1024442,templates:{10026895:'<style>\n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #000 !important;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 20%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 10px;\n      padding-top: 10px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #373737 !important;\n      text-shadow: 4px 4px 6px #927980;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 42%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 3%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 40% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {\n          font-size: 16px !important;\n      }\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {\n          font-size: 12px !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      padding-bottom: 0%;\n      padding-top: 0%;\n      font-family: \'GothamRound\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 0px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: bold !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #161616 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal!important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #01b0ef !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n  \n  \n  /* PRODUCT SECTION STYLES END */\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469441/469441_PalaceResortMX_Onsite_ProducRec_SG1/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469441/469441_PalaceResortMX_Onsite_ProducRec_SG1/images/BackgroundImage.jpg\'); background-size: cover;">\n    <div class="cybTextcontent">\n      <div class="cybHeading1">Stay on the page.\n        <br> Save up to 40%.</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">FINISH BOOKING</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/467803/467803_PalaceResortMX_Onsite_ProducRec_SG1/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">View</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026895:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024442,tpl_data:{10026895:{_ls_main:!0}}},1024468:{id:1024468,templates:{10026921:'<style>\n  @font-face {\n      font-family: \'GothamRound\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/GothamRound/gothamrnd-book.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/GothamRound/gothamrnd-book.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/GothamRound/gothamrnd-book.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/GothamRound/gothamrnd-book.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/GothamRound/gothamrnd-book.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/GothamRound/gothamrnd-book.svg#svgFontName\') format(\'svg\');\n  }\n  \n  @font-face {\n      font-family: \'GothamMedium\';\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot\');\n      src: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.eot?#iefix\') format(\'embedded-opentype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff2\') format(\'woff2\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.woff\') format(\'woff\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.ttf\') format(\'truetype\'), url(\'https://d3u0jcwe5p7qrc.cloudfront.net/CustomFonts/Gotham/Medium/Gotham-Medium.svg#svgFontName\') format(\'svg\');\n  }\n  \n  .cybVideo {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      overflow: hidden;\n      z-index: -100;\n      width: 100%;\n      object-fit: cover !important;\n  }\n  \n  \n  /* HERO SECTION STYLES START*/\n  \n  .vt-logo {\n      width: 100%;\n      background-color: #000;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybLogo {\n      width: 20%;\n      text-align: center;\n      display: block;\n      margin: 0 auto;\n      padding-bottom: 10px;\n      padding-top: 10px;\n      background-repeat: no-repeat;\n      background-position-x: 50%;\n  }\n  \n  .cybHeading1 {\n      font-size: 22px !important;\n      line-height: 120% !important;\n      color: #FFFFFF !important;\n      text-shadow: 4px 2px 8px black;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 35%;\n      margin-left: 4% !important;\n      margin-right: 4% !important;\n      padding-bottom: 3%;\n  }\n  \n  .cybHeading2 {\n      font-size: 50px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 0%;\n      padding-bottom: 0%;\n  }\n  \n  .cybHeading3 {\n      font-size: 25px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 9%;\n      padding-bottom: 0%;\n  }\n  \n  .cybDisclaimer {\n      font-size: 16px !important;\n      line-height: 120% !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      padding-top: 6%;\n      padding-bottom: 0%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-weight: bold !important;\n  }\n  \n  .cybOE .cybMainCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #a9733e !important;\n      width: 40% !important;\n      border-radius: 6px !important;\n      padding: 10px 14px !important;\n      margin-top: 20px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      margin-bottom: 30% !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .cybHeading1 {}\n      .cybHeading2 {}\n      .cybHeading3 {}\n      .cybDisclaimer {}\n      .cybOE .cybMainCTA {}\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybTextcontent {\n      font-family: \'GothamMedium\', sans-serif !important;\n      padding-bottom: 0%;\n      padding-top: 3%;\n      font-family: \'Miso\';\n      margin: 0 auto 0 auto;\n      width: 90%;\n      text-align: center;\n  }\n  \n  \n  /* HERO SECTION STYLES END*/\n  \n  \n  /* PRODUCT SECTION STYLES START */\n  \n  .productTabCYB {\n      padding: 10px 0px 10px 0px;\n      text-align: center;\n      font-size: 14px;\n      color: #414141 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal!important;\n      margin-top: 3% !important;\n  }\n  \n  .cybProduct-name {\n      font-size: 14px !important;\n      color: #414141 !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-transform: uppercase !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-price {\n      font-size: 14px !important;\n      color: #000000 !important;\n      font-family: \'GothamRound\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n  }\n  \n  .cybProduct-description {\n      font-size: 12px !important;\n      color: #000000 !important;\n      font-family: \'GothamRound\', sans-serif !important;\n      font-weight: normal !important;\n      line-height: 140% !important;\n      margin-left: 5% !important;\n      padding-top: 7px !important;\n  }\n  \n  .cybBuyCTA {\n      font-size: 14px !important;\n      color: #ffffff !important;\n      font-family: \'GothamMedium\', sans-serif !important;\n      font-weight: normal !important;\n      text-align: center !important;\n      text-transform: none !important;\n      text-decoration: none !important;\n      background-color: #a9733e !important;\n      width: 50% !important;\n      border-radius: 6px !important;\n      padding: 6px 14px !important;\n      margin-top: 0px !important;\n      margin-left: 5% !important;\n      margin-right: 25px !important;\n      display: inline-block !important;\n      float: none !important;\n  }\n  \n  .cybBuyCTA hover {\n      color: #01b0ef !important;\n      background-color: #FFFFFF !important;\n  }\n</style>\n\x3c!-- START CODE TO BE UPLOADED --\x3e\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n<link href="https://d2rp1k1dldbai6.cloudfront.net/assets/productrec.css" rel="stylesheet" type="text/css" onload="readyOnsiteContent()">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="backgroundOverlayCYB"></div>\n\x3c!--END Background Overlay--\x3e\n\x3c!--START X Button--\x3e<a class="vtw-close cybXButton" href="javascript:void(0)"><span class="cybInnerX" onclick="closeOnsiteCYB()">X</span></a>\n\x3c!--END X Button--\x3e\n\x3c!--START Onsite--\x3e\n<div class="vtw-campaign cybOE">\n  \x3c!--START Logo--\x3e\n  <div class="vt-logo"><img class="cybLogo" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/logo.png"></div>\n  \x3c!--END Logo--\x3e\n  \x3c!--START Body Copy--\x3e\n  <div class="vtw-inner" style="background-image:url(\'\')">\n    <video playsinline="" poster="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/BackgroundImage.jpg" id="vid" class="cybVideo" muted="" autoplay="true" loop="" preload="true">\n      <source src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/videos/video.mp4" type="video/mp4"> </video>\n    <div class="cybTextcontent">\n      <div class="cybHeading1">More Actions for a Safer Stay.</div>\n      <a href="javascript:void(0)" class="vtw-click cybMainCTA vtw-close">\n        <div onclick="vtCompleteOrder()">LEARN MORE</div>\n      </a>\n    </div>\n  </div>\n  \x3c!--END Body Copy--\x3e\n  \x3c!--START PF Section--\x3e\n  <div class="vtw-state1 productFeedSectionCYB" style="display: block;">\n    <div class="productTabCYB"> <span id="cybRec" onclick="displayOSTabCYB(this)" style="display: inline-block !important;">Resorts</span> <span class="cybSpacer" style="width: 0%"></span> <span id="cybHis" onclick="displayOSTabCYB(this)" style="display: none !important;">History</span>      <span class="cybSpacer" style="width: 0%"></span> <span id="cybCart" onclick="displayOSTabCYB(this)" style="display: none !important;">Your Cart</span> </div>\n    \x3c!--START Product Recommendations--\x3e\n    <div class="cybRec" style="display:block">\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/ProductImage_1.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">BEACH PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsbeachpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">BOOK SAFE</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/ProductImage_2.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">COZUMEL PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingscozumelpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">BOOK SAFE</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/ProductImage_3.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">ISLA MUJERES PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsislamujerespr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">BOOK SAFE</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/ProductImage_4.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">SUN PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingssunpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">BOOK SAFE</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div class="cyb-container">\n        <div class="cyb-elements-img pImg"><img class="cyb-prod-image" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/469597/469597_PalaceResortMX_ENG_Onsite_VidProdRec_SG1/images/ProductImage_5.jpg"></div>\n        <div class="cyb-elements pDesc">\n          <div class="cybProduct-name">PLAYACAR PALACE</div>\n          <div class="cybProduct-price"></div>\n          <div class="cybProduct-description"></div>\n        </div>\n        <div class="cyb-elements-btn">\n          <div>\n            <a href="https://bookingsplayadelcarmenpr.palaceresorts.com/rooms" target="_blank">\n              <div class="cybBuyCTA">BOOK SAFE</div>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!--END Product Recommendations--\x3e\n    <div class="cybHist" style="display:none"></div>\n    <div class="cybCart" style="display:none"></div>\n  </div>\n  \x3c!--END PF Section--\x3e\n</div>\n\x3c!--END Onsite--\x3e\n\x3c!-- END CODE TO BE UPLOADED --\x3e'},templatesPick:{params:{10026921:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],locations:"single"},campaignType:7,_id:1024468,tpl_data:{10026921:{_ls_main:!0}}},1027993:{id:1027993,templates:{10030559:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'es\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482730/482730_PalaceResortMX_Onsite_Prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030559:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1027993,tpl_data:{10030559:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1027994:{id:1027994,templates:{10030560:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'en\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482729/482729_PalaceResortMX_Onsite_prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030560:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1027994,tpl_data:{10030560:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028066:{id:1028066,templates:{10030638:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'en\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482729/482729_PalaceResortMX_Onsite_prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030638:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028066,tpl_data:{10030638:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028067:{id:1028067,templates:{10030639:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'en\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482729/482729_PalaceResortMX_Onsite_prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030639:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028067,tpl_data:{10030639:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028068:{id:1028068,templates:{10030640:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'en\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482729/482729_PalaceResortMX_Onsite_prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030640:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028068,tpl_data:{10030640:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028069:{id:1028069,templates:{10030641:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'en\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482729/482729_PalaceResortMX_Onsite_prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030641:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028069,tpl_data:{10030641:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028070:{id:1028070,templates:{10030642:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'es\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482730/482730_PalaceResortMX_Onsite_Prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030642:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028070,tpl_data:{10030642:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028071:{id:1028071,templates:{10030643:'<style>\n\n  \n  .vtw-close.cybPromptXButton {\n      right: -26px;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -10px;\n      z-index: 9999999999999;\n      opacity: 1;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHeading1 {\n      padding-top: 3%;\n      font-size: 36px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .08em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybHeading2 {\n      padding-top: 2%;\n      font-size: 19px !important;\n      color: #ffffff !important;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n      letter-spacing: .15em !important;\n      text-shadow: 2px 2px 5px rgba(9, 44, 59, .7) !important;\n  }\n  \n  .cybDisclaimer {\n      padding-top: 3%;\n      font-size: 12px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      line-height: 130%;\n  }\n  \n  .cybCode {\n      cursor: pointer !important;\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: \'cyb-GoboldBold\', sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #000 !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 30px !important;\n      margin-top: 20px;\n      background-color: #ffaa00 !important;\n      text-decoration: none !important;\n      letter-spacing: .1em !important;\n  }\n  \n  .cybHero {\n      width: 100% !important;\n      padding-top: 0% !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 0px !important;\n      position: absolute;\n      font-family: \'cyb-GoboldThinLight\', sans-serif !important;\n      text-align: center !important;\n      width: 100% !important;\n      margin: 0 auto 0 auto;\n      cursor: pointer;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPrompt {\n      position: fixed;\n      width: 850px;\n      max-width: 850px;\n      height: 460px !important;\n      text-align: center;\n      top: 40%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n      background-color: transparent;\n     \n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 36px !important;\n          line-height: 130% !important;\n          padding: 4% 10% 0% 10%;\n      }\n      .cybHeading2 {\n          font-size: 16px !important;\n          padding: 4% 3% 0% 3%;\n      }\n      .cybDisclaimer {\n          padding-top: 6%;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          height: 300px !important;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n          border-radius: 20px !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n          margin-top: 20px !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -10px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: -26px;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n      .cybHero {\n          width: 100% !important;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div>\n    <div class="cybTextcontent">\n      <a href="javascript:void(0)" onclick="cybLinkPicker(\'es\')"><div><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/482730/482730_PalaceResortMX_Onsite_Prompt_CJ1.jpg"></div>\n    \n\t\t\n        </a>\n\t\t\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10030643:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028071,tpl_data:{10030643:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028487:{id:1028487,templates:{10031070:'<style>\n  .cybTextcontent {\n      transform: translate(-85%, -50%) !important;\n  }\n  \n  .vtw-close.cybPromptXButton {\n      right: -33%;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -32%;\n      z-index: 9999999999999;\n      opacity: 0.5;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHero {\n      width: 180%;\n  }\n  \n  .cybHeading1 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybHeading2 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: Arial, sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #FFF !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 0px !important;\n      margin-top: 20px;\n      background-color: #043899 !important;\n      text-decoration: none !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 20px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      font-family: Arial, sans-serif !important;\n      text-align: left !important;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPromptBkg {\n      height: 100%;\n      overflow: hidden;\n      width: 100%;\n      background-repeat: no-repeat;\n      background-color: transparent;\n      background-position-x: center;\n      background-size: cover;\n  }\n  \n  .cybPrompt {\n      position: fixed;\n      width: 540px;\n      max-width: 735px;\n      height: 375px !important;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 35px !important;\n          line-height: 150% !important;\n          padding: 5% 0;\n      }\n      .cybHeading2 {\n          font-size: 20px !important;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n      }\n      .cybTextcontent {\n          text-align: left !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -20px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: calc(100% - 100%) !important;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div class="cybPromptBkg">\n    <div class="cybTextcontent">\n      <a href="https://ad.doubleclick.net/ddm/clk/546431026;355567090;g" target="_blank" class="vtw-click  vtw-close">\n        <div onclick="vtCompleteOrder()"><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/484506/484506_PalaceResortsMX_Onsite_Midscreen_SG1/images/BackgroundImage2.jpg"></div>\n      </a>\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10031070:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028487,tpl_data:{10031070:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028488:{id:1028488,templates:{10031071:'<style>\n  .cybTextcontent {\n      transform: translate(-85%, -50%) !important;\n  }\n  \n  .vtw-close.cybPromptXButton {\n      right: -33%;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -32%;\n      z-index: 9999999999999;\n      opacity: 0.5;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHero {\n      width: 180%;\n  }\n  \n  .cybHeading1 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybHeading2 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: Arial, sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #FFF !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 0px !important;\n      margin-top: 20px;\n      background-color: #043899 !important;\n      text-decoration: none !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 20px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      font-family: Arial, sans-serif !important;\n      text-align: left !important;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPromptBkg {\n      height: 100%;\n      overflow: hidden;\n      width: 100%;\n      background-repeat: no-repeat;\n      background-color: transparent;\n      background-position-x: center;\n      background-size: cover;\n  }\n  \n  .cybPrompt {\n      position: fixed;\n      width: 540px;\n      max-width: 735px;\n      height: 375px !important;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 35px !important;\n          line-height: 150% !important;\n          padding: 5% 0;\n      }\n      .cybHeading2 {\n          font-size: 20px !important;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n      }\n      .cybTextcontent {\n          text-align: left !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -20px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: calc(100% - 100%) !important;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div class="cybPromptBkg">\n    <div class="cybTextcontent">\n      <a href="https://ad.doubleclick.net/ddm/clk/546313076;355567090;k" target="_blank" class="vtw-click  vtw-close">\n        <div onclick="vtCompleteOrder()"><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/484506/484506_PalaceResortsMX_Onsite_Midscreen_SG1/images/BackgroundImage2.jpg"></div>\n      </a>\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10031071:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028488,tpl_data:{10031071:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028489:{id:1028489,templates:{10031072:'<style>\n  .cybTextcontent {\n      transform: translate(-85%, -50%) !important;\n  }\n  \n  .vtw-close.cybPromptXButton {\n      right: -33%;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -32%;\n      z-index: 9999999999999;\n      opacity: 0.5;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHero {\n      width: 180%;\n  }\n  \n  .cybHeading1 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybHeading2 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: Arial, sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #FFF !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 0px !important;\n      margin-top: 20px;\n      background-color: #043899 !important;\n      text-decoration: none !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 20px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      font-family: Arial, sans-serif !important;\n      text-align: left !important;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPromptBkg {\n      height: 100%;\n      overflow: hidden;\n      width: 100%;\n      background-repeat: no-repeat;\n      background-color: transparent;\n      background-position-x: center;\n      background-size: cover;\n  }\n  \n  .cybPrompt {\n      position: fixed;\n      width: 540px;\n      max-width: 735px;\n      height: 375px !important;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 35px !important;\n          line-height: 150% !important;\n          padding: 5% 0;\n      }\n      .cybHeading2 {\n          font-size: 20px !important;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n      }\n      .cybTextcontent {\n          text-align: left !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -20px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: calc(100% - 100%) !important;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div class="cybPromptBkg">\n    <div class="cybTextcontent">\n      <a href="https://ad.doubleclick.net/ddm/clk/546431041;355567090;d" target="_blank" class="vtw-click  vtw-close">\n        <div onclick="vtCompleteOrder()"><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/484506/484506_PalaceResortsMX_Onsite_Midscreen_SG1/images/BackgroundImage2.jpg"></div>\n      </a>\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10031072:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028489,tpl_data:{10031072:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028490:{id:1028490,templates:{10031073:'<style>\n  .cybTextcontent {\n      transform: translate(-85%, -50%) !important;\n  }\n  \n  .vtw-close.cybPromptXButton {\n      right: -33%;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -32%;\n      z-index: 9999999999999;\n      opacity: 0.5;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHero {\n      width: 180%;\n  }\n  \n  .cybHeading1 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybHeading2 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: Arial, sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #FFF !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 0px !important;\n      margin-top: 20px;\n      background-color: #043899 !important;\n      text-decoration: none !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 20px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      font-family: Arial, sans-serif !important;\n      text-align: left !important;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPromptBkg {\n      height: 100%;\n      overflow: hidden;\n      width: 100%;\n      background-repeat: no-repeat;\n      background-color: transparent;\n      background-position-x: center;\n      background-size: cover;\n  }\n  \n  .cybPrompt {\n      position: fixed;\n      width: 540px;\n      max-width: 735px;\n      height: 375px !important;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 35px !important;\n          line-height: 150% !important;\n          padding: 5% 0;\n      }\n      .cybHeading2 {\n          font-size: 20px !important;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n      }\n      .cybTextcontent {\n          text-align: left !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -20px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: calc(100% - 100%) !important;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div class="cybPromptBkg">\n    <div class="cybTextcontent">\n      <a href="https://ad.doubleclick.net/ddm/clk/546432097;355567090;p" target="_blank" class="vtw-click  vtw-close">\n        <div onclick="vtCompleteOrder()"><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/484506/484506_PalaceResortsMX_Onsite_Midscreen_SG1/images/BackgroundImage2.jpg"></div>\n      </a>\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10031073:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028490,tpl_data:{10031073:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028491:{id:1028491,templates:{10031074:'<style>\n  .cybTextcontent {\n      transform: translate(-85%, -50%) !important;\n  }\n  \n  .vtw-close.cybPromptXButton {\n      right: -33%;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -32%;\n      z-index: 9999999999999;\n      opacity: 0.5;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHero {\n      width: 180%;\n  }\n  \n  .cybHeading1 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybHeading2 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: Arial, sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #FFF !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 0px !important;\n      margin-top: 20px;\n      background-color: #043899 !important;\n      text-decoration: none !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 20px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      font-family: Arial, sans-serif !important;\n      text-align: left !important;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPromptBkg {\n      height: 100%;\n      overflow: hidden;\n      width: 100%;\n      background-repeat: no-repeat;\n      background-color: transparent;\n      background-position-x: center;\n      background-size: cover;\n  }\n  \n  .cybPrompt {\n      position: fixed;\n      width: 540px;\n      max-width: 735px;\n      height: 375px !important;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 35px !important;\n          line-height: 150% !important;\n          padding: 5% 0;\n      }\n      .cybHeading2 {\n          font-size: 20px !important;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n      }\n      .cybTextcontent {\n          text-align: left !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -20px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: calc(100% - 100%) !important;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div class="cybPromptBkg">\n    <div class="cybTextcontent">\n      <a href="https://ad.doubleclick.net/ddm/clk/546426640;355567090;m" target="_blank" class="vtw-click  vtw-close">\n        <div onclick="vtCompleteOrder()"><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/484506/484506_PalaceResortsMX_Onsite_Midscreen_SG1/images/BackgroundImage2.jpg"></div>\n      </a>\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10031074:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028491,tpl_data:{10031074:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}},1028515:{id:1028515,templates:{10031098:'<style>\n  .cybTextcontent {\n      transform: translate(-85%, -50%) !important;\n  }\n  \n  .vtw-close.cybPromptXButton {\n      right: -33%;\n      position: fixed;\n      width: 25px;\n      height: 35px;\n      top: -32%;\n      z-index: 9999999999999;\n      opacity: 0.5;\n      line-height: 200%;\n      background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close-window.png\');\n      background-repeat: no-repeat;\n      background-color: transparent;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES START*/\n  \n  .cybHero {\n      width: 180%;\n  }\n  \n  .cybHeading1 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybHeading2 {\n      padding-top: 0%;\n      font-size: 20px !important;\n      color: #ffffff !important;\n      font-family: Arial, sans-serif !important;\n      padding-bottom: 0%;\n      font-weight: 700 !important;\n      text-transform: uppercase !important;\n      line-height: 130%;\n  }\n  \n  .cybPrompt .cybMainCTA {\n      font-family: Arial, sans-serif !important;\n      padding: 9px 14px !important;\n      text-align: center !important;\n      color: #FFF !important;\n      font-weight: normal !important;\n      display: inline-block !important;\n      font-size: 18px !important;\n      width: 30% !important;\n      border-radius: 0px !important;\n      margin-top: 20px;\n      background-color: #043899 !important;\n      text-decoration: none !important;\n  }\n  \n  \n  /* PROMPT CONTENT STYLES END*/\n  \n  .cybTextcontent {\n      padding: 0px 20px !important;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      font-family: Arial, sans-serif !important;\n      text-align: left !important;\n  }\n  \n  \n  /* BACKGROUND STYLES START*/\n  \n  .cybPromptBkg {\n      height: 100%;\n      overflow: hidden;\n      width: 100%;\n      background-repeat: no-repeat;\n      background-color: transparent;\n      background-position-x: center;\n      background-size: cover;\n  }\n  \n  .cybPrompt {\n      position: fixed;\n      width: 540px;\n      max-width: 735px;\n      height: 375px !important;\n      text-align: center;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      border-radius: 0px !important;\n      z-index: 99999999 !important;\n      display: flex;\n  }\n  \n  \n  /* BACKGROUND STYLES END*/\n  \n  \n  /* MOBILE TEXT STYLE STARTS */\n  \n  @media (max-width:480px) {\n      .vtw-close img {\n          right: 85% !important;\n      }\n      .cybPromptBkg {\n          position: absolute;\n          bottom: 0;\n          background-size: cover;\n      }\n      .cybHeading1 {\n          font-size: 35px !important;\n          line-height: 150% !important;\n          padding: 5% 0;\n      }\n      .cybHeading2 {\n          font-size: 20px !important;\n      }\n      .cybPrompt {\n          position: fixed;\n          width: 80vw !important;\n          max-width: 735px;\n          text-align: center;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          border-radius: 0px !important;\n          z-index: 99999999 !important;\n          display: flex;\n      }\n      .cybTextcontent {\n          text-align: left !important;\n      }\n      .cybPrompt .cybMainCTA {\n          padding: 9px 14px !important;\n          text-align: center !important;\n          width: 40vw !important;\n          top: 65% !important;\n      }\n      .vtw-close.cybPromptXButton {\n          right: -20px;\n          position: fixed;\n          width: 25px;\n          height: 35px;\n          top: calc(100% - 100%) !important;\n          text-decoration: none !important;\n          background-image: url(\'https://d3u0jcwe5p7qrc.cloudfront.net/Cybba/Onsite/Template/Prompt/images/close_mobile.png\');\n          background-repeat: no-repeat;\n      }\n  }\n  \n  \n  /* MOBILE TEXT STYLE ENDS */\n  \n  .cybBackgroundOverlay {\n      background-color: grey;\n      height: 100% !important;\n      width: 100% !important;\n      opacity: 0.5;\n      z-index: 100 !important;\n      position: fixed;\n      top: 0;\n  }\n</style>\n\x3c!--DO NOT REMOVE--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1">\n\x3c!--DO NOT REMOVE--\x3e\n\x3c!--START Background Overlay--\x3e\n<div class="cybBackgroundOverlay"></div>\n\x3c!--END Background Overlay--\x3e\n<div class="vtw-campaign cybPrompt">\n  \x3c!--START X Button--\x3e<a class="vtw-close cybPromptXButton" href="javascript:void(0)"><span onclick="closeOnsiteCYB()"></span></a>\n  \x3c!--END X Button--\x3e\n  <div class="cybPromptBkg">\n    <div class="cybTextcontent">\n      <a href="https://ad.doubleclick.net/ddm/clk/546315635;355535775;s" target="_blank" class="vtw-click  vtw-close">\n        <div onclick="vtCompleteOrder()"><img class="cybHero" src="https://d3u0jcwe5p7qrc.cloudfront.net/03_LATAM/PalaceResortsMX/Onsite/484507/484507_PalaceResortsMX_Onsite_Midscreen_SG1/images/BackgroundImage.jpg"></div>\n      </a>\n    </div>\n  </div>\n</div>'},templatesPick:{params:{10031098:100},strategy:"weighted-random"},siteParams:{single:!0,embed:!1,eventBound:!1,displayRules:[{key:"vars.cybAllow",val:"yes",op:"eq"}],displayCount:0,displayCountSession:1,afterClose:"1",autoClose:0,afterSubmit:"close",mailchimpList:0,trigger:{mode:"onClick",params:{selector:""}},testMode:!1,priority:0,displayRulesOR:[],backendRules:[],backendRulesOR:[],locations:"single"},campaignType:7,_id:1028515,tpl_data:{10031098:{_ls_main:!0}},teasers:{10030559:"\n\n                    ",10030560:"\n\n                    ",10030638:"\n\n                    ",10030639:"\n\n                    ",10030640:"\n\n                    ",10030641:"\n\n                    ",10030642:"\n\n                    ",10030643:"\n\n                    ",10031070:"\n\n                    ",10031071:"\n\n                    ",10031072:"\n\n                    ",10031073:"\n\n                    ",10031074:"\n\n                    ",10031098:"\n\n                    "}}},content:{campaigns:{}},adserver:{}},object.User={data:{},context:{vars:{pageType:""}},getLocalUser:function(){var t,n=object.Helpers.readCookie(object.defaults.prefix+object.defaults.cookieNames.uId);return null!=n?(n={userId:(t=n.split("_"))[0],sessionId:"1",email:"true"==t[2],push:"true"==t[3],tel:"true"==t[4],isC:"true"==t[5],noP:t[6]?parseInt(t[6]):0},object.Helpers.setCookie(object.defaults.cookieNames.uId,n)):(n=object.Helpers.getCookie(object.defaults.cookieNames.uId),vtlodash.isObject(n)&&object.Helpers.setCookie(object.defaults.cookieNames.uId,n)),!vtlodash.isEmpty(n)&&n||null},requestUser:function(t){var n;!0===object.state.waitUserRequest||(t=t||{},n={callback:object.defaults.userCallback,shopId:object.shop.id,oldUserId:object.User.data.userId},object.Helpers.log("Requesting user data: "+object.User.data.userId+"new "+JSON.stringify(t),"info"),t.userId&&(n.userId=t.userId),t.uuid&&(n.uuid=t.uuid),t.email&&object.Helpers.emailIsValid(t.email)?(n.email=t.email,vtlodash.isFunction(windowAlias.btoa)&&(n.email=windowAlias.btoa(n.email))):n.email=null,t=object.Helpers.addQueryString(object.defaults.userHost,n),object.state.botagent)||(object.Helpers.getAsync(t),object.state.waitUserRequest=!0)},isIdentified:function(){return!!object.User.data.email||!!object.Helpers.emailIsValid(object.User.data.email)},changeUserByEmail:function(t){t=object.Helpers.cleanEmail(t),object.Helpers.emailIsValid(t)&&object.User.requestUser({email:t})},changeUserById:function(t){object.User.data.userId!==""+t&&object.User.requestUser({userId:t})},changeUserByUuid:function(t){object.User.data.uuid!==""+t&&object.User.requestUser({uuid:t})},callbackUser:function(t){object.Helpers.log("Callback User server data","info");var n={sessionId:"1"};t.userId&&(n.userId=t.userId),n.email=!!t.email,n.push=!!t.push,n.noP=0,n.isC=!1,t.isCustomer&&(n.isC=t.isCustomer||!1),t.numberOfPurchases&&(n.noP=t.numberOfPurchases||0),t.ts&&(t=object.defaults.nowTimeLocal-parseInt(t.ts),object.Helpers.setCookie(object.defaults.cookieNames.ts,t=100<t?t:1,object.defaults.dayDuration),object.defaults.nowTime-=t),object.Helpers.setCookie(object.defaults.cookieNames.uId,n),object.User.data.userId!=n.userId&&(object.state._vtolduser=object.User.data.userId),object.User.data=n,object.state.hasUser=!0,object.User.context&&object.User.context.all&&(object.User.context.all.hasEmail=object.User.isIdentified(),object.User.context.all.hasPush=!!object.User.data.push,object.User.context.all.hasTel=!!object.User.data.tel,object.User.context.all.isCustomer=!!object.User.data.isC,object.User.context.all.noPurchases=object.User.data.noP||0),object.state.loginToPush&&(object.state.eventQueue.push(object.state.loginToPush),delete object.state.loginToPush),object.state.waitUserRequest=!1},activityInit:function(){var n,e,t,o,a,i;function s(){var t=Date.now()-object.state.lastActiveTime,t=(e<t&&(object.Campaign.triggerInactivityCampaigns(t/1e3),o+=1),n&&clearInterval(n),e+1e3*o);t<12e4&&(n=windowAlias.setTimeout(s,t))}function r(){object.state.lastActiveTime=Date.now(),o=1,object.shop.params.hasSendActTriggers&&(!object.state.lastCallActive||object.state.lastActiveTime-object.state.lastCallActive>t)&&(object.User.activitySend(o),object.Helpers.log("Sending activity","info"))}(object.shop.params.hasActTriggers||object.shop.params.hasSendActTriggers)&&(e=5e3,t=12e4,object.state.lastActiveTime=Date.now(),o=0,a=document.documentElement,i=document,object.Helpers.addEventListener(a,"mousedown",r,!0),object.Helpers.addEventListener(a,"keypress",r,!0),object.Helpers.addEventListener(i,"touchmove",r,!0),object.Helpers.addEventListener(i,"scroll",r,!0),s())},activitySend:function(t){object.Helpers.log("Updating server user activity for check "+t,"info"),object.state.lastCallActive=object.state.lastActiveTime;t={shopId:object.shop.id,userId:object.User.data.userId,ts:object.state.lastActiveTime},t=object.Helpers.addQueryString(object.defaults.userHost+"/active",t);object.Helpers.getAsync(t)}},object.eventApi={convertEventObject:function(t){var n,e={type:""};for(n in t)if(t.hasOwnProperty(n)){e.type=n;var o=vtlodash.isObject(t[n])?JSON.parse(JSON.stringify(t[n])):{};if("confirmation"===n&&1<vtlodash.size(o))try{e.items=o.items||[],e.generic=o.generic||{},["orderId","total","email"].forEach(function(t,n){o[t]&&(e.generic[t]=o[t])}),o={}}catch(t){object.Helpers.log("Error creating generic for confirmation ","error")}"event"===n&&(e.type="generic",e.generic=t.event,e.generic.event_name&&(e.generic.event_name=object.eventApi.formatEventName(e.generic.event_name)),o={}),"addtocart"!=n&&"viewitem"!=n&&"addtowishlist"!=n||!o.itemId||(o.itemId=(""+o.itemId).trim(),object.setVar("itemId",o.itemId)),"viewcategory"==n&&o.category&&(o.category=(""+o.category).trim().toLowerCase().replace(/\s/g,"_"),object.setVar("category",o.category)),"search"==n&&o.query&&(o.query=(""+o.query.replace(/"/g,"'")).trim(),object.setVar("query",o.query),o.query=o.query.toLowerCase()),"pageview"==n&&o.url&&(0<o.url.indexOf("#")&&(o.url=o.url.substring(0,o.url.indexOf("#"))),o.url=encodeURIComponent(o.url)),o.device=object.User.context.session.deviceType,e=vtlodash.merge(e,o),vtlodash.isFunction(windowAlias.btoa)&&e.email&&(e.email=windowAlias.btoa(e.email))}return object.state._vtsid&&(e._vtsid=object.state._vtsid),e},formatEventName:function(t){return t.trim().toLowerCase().replace(/\s/g,"_")},sendEventArray:function(t){if(object.Helpers.log("Received array events "+JSON.stringify(t),"info"),vtlodash.isArray(t)&&(ret_array=[],!object.state.botagent)){for(var n=object.Helpers.getCookie(object.defaults.cookieNames.uId),e=0;e<t.length;e++){var o=t[e],a={userId:n.userId},o=object.eventApi.convertEventObject(o),a=vtlodash.merge(a,o);ret_array.push(a)}var i={data:JSON.stringify(ret_array),callback:object.defaults.eventCallback},s=object.defaults.eventHost+object.shop.id+"/"+o.type,s=object.Helpers.addQueryString(s,i);object.Helpers.getAsync(s)}},pushNext:function(t){object.Helpers.setCookie(object.defaults.cookieNames.ne,t)},sendEvent:function(t){try{object.Helpers.log("Received event "+JSON.stringify(t),"info")}catch(t){}var n,e,o;if(!object.state.botagent)return t=object.eventApi.convertEventObject(t),object.eventApi.validateEvent(t,!0)?(n={userId:(e=object.Helpers.getCookie(object.defaults.cookieNames.uId)).userId},e.userId!=object.User.data.userId&&(n._vtolduser=object.User.data.userId),object.state._vtolduser&&(n._vtolduser=object.state._vtolduser,delete object.state._vtolduser),n=vtlodash.merge(n,t),e={data:JSON.stringify(n),callback:object.defaults.eventCallback},("update"==t.type&&n.lastVisitDate||"siteclose"==t.type)&&(e._bqstore=0),o=object.defaults.eventHost+object.shop.id+"/"+t.type,o=object.Helpers.addQueryString(o,e),object.Helpers.getAsync(o),object.Helpers.sendToAnalytics(n),!0):(object.Helpers.log("Event not valid "+JSON.stringify(t),"error"),!1)},callbackEvent:function(t){var n;vtlodash.isObject(t)&&(n=JSON.stringify(t)),object.Helpers.log("Event received "+n,"info"),t.userId!==object.User.data.userId&&(object.Helpers.log("New session for user ","info"),(n=object.User.data).sessionId="1",n.userId=t.userId,vtlodash.isEmpty(n)||object.Helpers.setCookie(object.defaults.cookieNames.uId,n))},hashEvent:function(t){return btoa(unescape(encodeURIComponent(JSON.stringify(object.Helpers.getSortedDict(t)))))},validateEvent:function(t,n){if("viewitem"==t.type&&!t.itemId)return!1;if("login"==t.type&&!t.email&&!t.uuid&&!t.userId)return!1;if("viewcategory"==t.type&&!t.category)return!1;if("addtocart"==t.type&&!t.itemId)return!1;if("addtowishlist"==t.type&&!t.itemId)return!1;if("search"==t.type&&!t.query)return!1;if("generic"==t.type&&!t.generic.event_name)return!1;if("confirmation"==t.type&&t.generic&&t.generic.orderId){if(object.User.context.all.orderId===t.generic.orderId)return!1;object.Helpers.updateCookie(object.defaults.cookieNames.all,{orderId:t.generic.orderId}),object.User.context.all.orderId=t.generic.orderId}if(n){object.state.guardEvents=object.state.guardEvents||[];n=object.eventApi.hashEvent(t);if(0<=object.state.guardEvents.indexOf(n))return object.Helpers.log("Event already sent","info"),!1;object.state.guardEvents.push(n)}return!0}},object.Helpers={getContextValue:function(t,n,e){var o=object.Helpers.getDeepValue(object.User.context,t);if("all.hasEmail"===t&&(o=object.User.isIdentified()),0==t.indexOf("cookie.")&&(o=object.Helpers.readCookie(t.split(".").splice(1).join("."))),0==t.indexOf("jsvar.")&&(o=object.Helpers.getDeepValue(windowAlias,t.split(".").splice(1).join("."))),"e"==n&&e&&"session.vte."+e.type===t)switch(e.type){case"viewitem":case"addtocart":case"addtowishlist":o=e.itemId||"";break;case"search":o=e.query||"";break;case"viewcategory":o=e.category||""}return o},getDeepValue:function(t,n){try{if(n){for(var e=n.split("."),o=0;o<e.length;o++)if(void 0===(t=t[e[o]]))return;return t}}catch(t){object.Helpers.log("Error extracting deep value","error")}},returnRandomZoneBanners:function(t,n){if(!vtlodash.isArray(t)||n<1)return!1;for(var e,o,a=t.length;0!==a;)o=Math.floor(Math.random()*a),e=t[--a],t[a]=t[o],t[o]=e;return(t=object.Helpers.returnValidZoneBanners(t)).slice(0,n)},returnValidZoneBanners:function(t){for(var n=[],e=0;e<vtlodash.size(t);){var o=t[e];object.Campaign.checkDisplayLimits(o.tpl,object.shop.adserver.campaigns[o.campaign].siteParams.banners[o.tpl])&&object.shop.adserver.templates[o.tpl]&&n.push(o),e++}return n},cleanEmail:function(t){return t&&t.replace(/[\s\'\"\/\\#]/g,"").toLowerCase()},extractTagFromHtml:function(t,n){return t&&n&&(n=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)<\\/"+n+">","i"),result=n.exec(t),vtlodash.isArray(result))&&0<result.length?result[1]:""},addClass:function(t,n){if(_vtsdk.Helpers.isDomNode(t))t.classList.add(n);else try{for(var e=0;e<t.length;e++)t[e].classList.add(n)}catch(t){}},removeClass:function(t,n){if(_vtsdk.Helpers.isDomNode(t))t.classList.remove(n);else try{for(var e=0;e<t.length;e++)t[e].classList.remove(n)}catch(t){}},serializeForm:function(t){var n,e,o=[];if("object"==typeof t&&"FORM"==t.nodeName){var a=t.elements.length;for(i=0;i<a;i++)if((n=t.elements[i]).name&&!n.disabled&&"file"!=n.type&&"reset"!=n.type&&"submit"!=n.type&&"button"!=n.type)if("select-multiple"==n.type)for(e=t.elements[i].options.length,j=0;j<e;j++)n.options[j].selected&&(o[o.length]=n.name+"="+n.options[j].value);else("checkbox"!=n.type&&"radio"!=n.type||n.checked)&&(o[o.length]=n.name+"="+n.value)}return o},serializeObjectForm:function(t){var o,a;if("object"==typeof t&&"FORM"==t.nodeName&&window.FormData)return o=new FormData(t),a={},Object.keys(o).forEach(function(t,n){var e=o[t];t=t.replaceAll("[","").replaceAll("]","").replaceAll("form",""),void 0!==a[t]?(Array.isArray(a[t])||(a[t]=[a[t]]),a[t].push(e)):a[t]=e}),a},pickRandomPercentages:function(t){var n,e,o,a=100*Math.random();n=0;for(e in t)if(o=n,n+=t[e],o<=a&&a<=n)return e;throw new Error("Could not pick any number for items "+t)},generateRandomBetween:function(t,n,e){return e?Math.floor(Math.random()*(n-t))+t:Math.random()*(n-t)+t},valuesComparer:function(val1,val2,op){if(val1="false"!==val1&&("true"===val1||val1),val2="false"!==val2&&("true"===val2||val2),!1===val2&&vtlodash.isUndefined(val1)&&"eq"==op)return!0;if(0===val2&&vtlodash.isUndefined(val1)&&0<=["eq","lte","gte"].indexOf(op))return!0;switch(op){case"gt":return val2<val1;case"gte":return val2<=val1;case"lt":return val1<val2;case"lte":return val1<=val2;case"eq":return val1===val2;case"ne":return val1!=val2;case"in":return-1!==val2.indexOf(val1);case"nin":return-1===val2.indexOf(val1);case"regex":var r;return vtlodash.isUndefined(val1)?!1:(r=new RegExp(val2),!!r.test(val1));case"eval":try{var x=eval(val2.replace(/\(x\)/g,val1))}catch(er){var x=!1}return!!vtlodash.isBoolean(x)&&x}return!1},getSortedDict:function(n){var e;return vtlodash.isObject(n)?(e={},Object.keys(n).sort().forEach(function(t){e[t]=object.Helpers.getSortedDict(n[t])}),e):n},addEventListener:function(t,n,e,o){return o=!vtlodash.isUndefined(o)&&o,t.addEventListener?(t.addEventListener(n,e,o),!0):t.attachEvent?t.attachEvent("on"+n,e):void(t["on"+n]=e)},getAsync:function(t,n){void 0===n&&(t+=(-1==t.indexOf("?")?"?":"&")+"_ts="+String(Math.round(1e8*Math.random())));n=object.Helpers.embedTag("script","","head",{type:"text/javascript",src:t});try{n.async=!0}catch(t){}return n},vtPostMessage:function(){object.Helpers.addEventListener(windowAlias,"message",function(t){t=t.data;try{(t=JSON.parse(t))._vt&&(t.setVar&&isArray(t.setVar)?object.setVar(t.setVar[0],t.setVar[1]):t.event&&object.eventApi.sendEvent(t.event))}catch(t){}},!1)},emailIsValid:function(t){t=object.Helpers.cleanEmail(t);return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},log:function(t,n){var e=(new Date).getTime()-object.defaults.nowTimeLocal,o=(n=n||"info",t=vtlodash.isObject(t)?JSON.stringify(t):t,{info:1,warning:2,error:3,none:4});if(o[object.defaults.debug]<=o[n])try{console.log("["+n+"]["+e+"]"+t)}catch(t){}},setAnalyticsUser:function(){object.shop.ganalytics&&!0===object.shop.ganalytics.status&&window.gtag&&window.gtag("set",{user_id:object.User.data.userId})},setAnalyticsSource:function(t,n){var e;object.shop.ganalytics&&!0===object.shop.ganalytics.setSource&&(e=setInterval(function(){void 0!==window.gtag&&(window.gtag("set",{campaign_id:t,campaign_name:"vt_"+t,campaign_source:object.shop.ganalytics.category,campaign_medium:n}),clearInterval(e))},100),setTimeout(function(){clearInterval(e)},1e3))},sendToAnalytics:function(n){var e;object.shop.ganalytics&&!0===object.shop.ganalytics.status&&window.gtag&&(object.shop.ganalytics.events.length&&object.shop.ganalytics.events.indexOf(n.type)<0||(e=setInterval(function(){var t="";try{switch(n.type){case"viewitem":case"addtocart":case"addtowishlist":t=n.itemId;break;case"viewcategory":t=n.category;break;case"checkout":t=n.step||"";break;case"sitesubmit":case"siteclick":case"siteclose":case"sitedisplay":t=n.tracking.vt_campaign+"_"+n.tracking.vt_content;break;case"search":t=n.query;break;case"confirmation":t=(n.orderId?n.orderId+"_":"")+(n.items?n.items.length:0)}}catch(t){object.Helpers.log("Error building opt_label for analytics","error")}void 0!==window.gtag&&(window.gtag("event","vt_"+n.type,{category:object.shop.ganalytics.category,label:t}),clearInterval(e))},100),setTimeout(function(){clearInterval(e)},1e3)))},getStorageType:function(){var e;return vtstore.enabled?"vts":(window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,!!window.indexedDB&&((e=window.indexedDB.open("vtstore",1)).onupgradeneeded=function(t){var n=e.result,n=(object.state.db=n).createObjectStore("vtStoreObj",{keyPath:"id"});object.state.store=n},e.onerror=function(t){object.Helpers.log("DB error","error")},e.onsuccess=function(t){object.state.db=e.result},"db"))},updateCookie:function(t,n){var e=object.Helpers.getCookie(t,!0);e&&(vtlodash.isObject(n)?e.val=vtlodash.merge(e.val,n):e.val=n,object.Helpers.setCookie(t,e.val,e.exp))},setCookie:function(n,e,o){if(n=object.defaults.prefix+n,o=vtlodash.isNumber(o)?o:0,"vts"==object.state.storage)vtstore.set(n,{val:e,exp:o,time:(new Date).getTime()});else if("db"==object.state.storage)try{object.state.db.transaction(["vtStoreObj"],"readwrite").objectStore("vtStoreObj").put({id:n,val:e,exp:o,time:(new Date).getTime()}).onsuccess=function(t){}}catch(t){setTimeout(function(){object.Helpers.setCookie(n.replace(object.defaults.prefix,""),e,o)},50)}var t;n===object.defaults.prefix+object.defaults.cookieNames.uId&&(t=e.userId+"_"+e.sessionId+"_"+e.email+"_"+!!e.push+"_"+!!e.tel+"_"+!!e.isC+"_"+(e.noP||0),object.Helpers.writeCookie(object.defaults.prefix+object.defaults.cookieNames.uId,t,object.defaults.expiration))},getCookie:function(n,e){e=!!e,n=object.defaults.prefix+n;function o(t){return e?t:t?0<t.exp&&(new Date).getTime()-t.time>t.exp?(object.Helpers.removeCookie(n),null):t.val:null}var t;if("vts"==object.state.storage)return t=vtstore.get(n),o(t);if("db"==object.state.storage)try{object.state.db.transaction(["vtStoreObj"],"readwrite").objectStore("vtStoreObj").get(n).onsuccess=function(t){return o(t.target.result)}}catch(t){setTimeout(function(){return object.Helpers.getCookie(n.replace(object.defaults.prefix,""))},50)}},readCookie:function(t){var n=null;try{n=new RegExp(t+"=([^;]+)").exec(document.cookie)}catch(t){object.Helpers.log("Trying to read inexistent cookie","warning")}return null!=n?unescape(n[1]):null},writeCookie:function(t,n,e){try{e=vtlodash.isNumber(e)?((o=new Date).setTime(o.getTime()+e),";expires="+o.toGMTString()):"";var o,a=object.shop.params.cookieDomain||window.location.hostname;document.cookie=t+"="+n+e+";domain=."+a+";path=/"}catch(t){object.Helpers.log("Error trying to set cookie","warning")}},removeCookie:function(n){if(n=object.defaults.prefix+n,"vts"==object.state.storage)vtstore.remove(n);else if("db"==object.state.storage)try{object.state.db.transaction(["vtStoreObj"],"readwrite").objectStore("vtStoreObj").delete(n)}catch(t){setTimeout(function(){object.Helpers.removeCookie(n.replace(object.defaults.prefix,""))},100)}},extractMainURL:function(t){return 0<=t.indexOf("?")?t.substring(0,t.indexOf("?")):t},extractDomain:function(t){return(-1<(t=t||"").indexOf("//")?t.split("/")[2]:t.split("/")[0]).split(":")[0]},makeQueryString:function(t){var n,e=[];for(n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},addQueryString:function(t,n){return object.Helpers.extractMainURL(t)+"?"+object.Helpers.makeQueryString(vtlodash.merge(object.Helpers.getURLParams(t),n))},getURLParams:function(t){return t.substring(t.indexOf("?")+1).replace(/(^\?)/,"").split("&").map(function(t){return(t=t.split("="))[0]&&!vtlodash.isUndefined(t[1])&&(this[t[0]]=t[1]),this}.bind({}))[0]},browserInfo:function(t){var n,e=navigator.userAgent,o=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(o[1])){if(n=/\brv[ :]+(\d+)/g.exec(e)||[],"name"==t)return"explorer";if("version"==t)return n[1]}if("Chrome"===o[1]){if(null!=(n=e.match(/\bOPR\/(\d+)/))&&"name"==t)return"opera";if(null!=n&&"version"==t)return n[1]}return o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(n=e.match(/version\/(\d+)/i))&&o.splice(1,1,n[1]),"version"==t?o[1]:"name"==t?(o[0]="MSIE"==o[0]?"Explorer":o[0],o[0].toLowerCase()):void 0},browserLang:function(){var t=window.navigator.userLanguage||window.navigator.language;return t&&t.substring(0,t.indexOf("-"))||""},osName:function(){for(var t=[{string:navigator.platform.toLowerCase(),subString:"win",identity:"Windows"},{string:navigator.platform.toLowerCase(),subString:"mac",identity:"Mac"},{string:navigator.userAgent.toLowerCase(),subString:"iphone",identity:"iOS"},{string:navigator.userAgent.toLowerCase(),subString:"android",identity:"Android"},{string:navigator.platform.toLowerCase(),subString:"linux",identity:"Linux"}],n=0;n<t.length;n++){var e=t[n].string;if(e&&-1!=e.indexOf(t[n].subString))return t[n].identity}},inputHasValue:function(t,n){var e,o=!1;switch(t.nodeName){case"INPUT":switch(t.type){case"text":case"url":case"email":case"date":case"number":case"hidden":case"password":case"button":case"reset":case"submit":o=t.value;break;case"checkbox":case"radio":o=(o=n.querySelector('input[name="'+t.name+'"]:checked'))&&o.value}break;case"TEXTAREA":o=t.value;break;case"SELECT":switch(t.type){case"select-one":o=t.value;break;case"select-multiple":for(e=t.options.length-1;0<=e;e-=1)t.options[e].selected&&(o=t.options[e].value)}break;case"BUTTON":switch(t.type){case"reset":case"submit":case"button":o=t.value}}return o=vtlodash.isString(o)?encodeURIComponent(o.trim()):o},isDomNode:function(t){try{return!!t.nodeName}catch(t){return!1}},applyStyle:function(t,n,e){if(t)if(object.Helpers.isDomNode(t))t.style[n]=e;else for(el in t)t.hasOwnProperty(el)&&object.Helpers.isDomNode(t[el])&&(t[el].style[n]=e)},showDom:function(t){object.Helpers.applyStyle(t,"display","block"),object.Helpers.removeClass(t,"vt-hide")},hideDom:function(t){object.Helpers.applyStyle(t,"display","none"),object.Helpers.addClass(t,"vt-hide")},embedTag:function(t,n,e,o){e=e||"body",n=n||"";var a=documentAlias.createElement(t=t||"div");for(el in o)o.hasOwnProperty(el)&&a.setAttribute(el,o[el]);return a.innerHTML=n,vtlodash.isString(e)?documentAlias.getElementsByTagName(e)[0].appendChild(a):object.Helpers.isDomNode(e)&&e.appendChild(a),a},readDataLayer:function(){if(windowAlias&&vtlodash.isArray(windowAlias.dataLayer)&&0<vtlodash.size(windowAlias.dataLayer)){for(var t=windowAlias.dataLayer,n={event:{}},e=0;e<t.length;e++)if(!vtlodash.isObject(t[e])||t[e].event&&0===t[e].event.indexOf("gtm."))vtlodash.isArguments(t[e])&&"event"==t[e][0]&&(n.event[t[e][1]]=n.event[t[e][1]]||[],n.event[t[e][1]].push(t[e][2]));else if(t[e].event)n.event[t[e].event]=n.event[t[e].event]||[],n.event[t[e].event].push(t[e]);else for(var o in t[e])t[e].hasOwnProperty(o)&&(n[o]=n[o]||[],n[o][t[e][o]]=n[o][t[e][o]]||[],n[o][t[e][o]].push(t[e][o]));return n}return null},deviceType:function(){var t=object.Helpers.strtolower(navigator.userAgent||navigator.vendor||window.opera),n="desktop";return t.match(/(ipad|galaxy|xoom|touchpad|t800)/)?n="tablet":(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n="mobile"),n},strtolower:function(t){return null==t&&(t=""),vtlodash.isString(t)?t.toLowerCase():t},getExternalReferrer:function(){return object.Helpers.extractDomain(documentAlias.referrer)==windowAlias.location.hostname?null:documentAlias.referrer},checkAndSubscribe:function(t,n,e,o){var a,i,t=document.querySelector(t);return!(!t||!object.Helpers.emailIsValid(t.value))&&(a=!0,(a=!!(n&&(a=!1,n=document.querySelector(n))&&n.checked)||a)?(n={login:{email:t.value}},i=!1,o&&Object.keys(o).forEach(function(t,n){0===t.indexOf("_ls_")&&(i=!0)}),i||(n.login.isSubscribed=!0),o&&vtlodash.isObject(o)&&(n.login=vtlodash.merge(o,n.login)),e?object.eventApi.pushNext(n):object.state.eventQueue.push(n),!0):void 0)},dateContext:function(){var t={},n=new Date,e=new Date(n.getFullYear(),n.getMonth()+1,0);return t.dayWeek=n.getDay(),t.dayMonth=n.getDate(),t.month=n.getMonth(),t.year=n.getFullYear(),t.lastDayMonth=n.toString().split(t.year)[0]==e.toString().split(t.year)[0],t}},object.Recommender={callBackRecommenderContent:function(data){for(cId in object.Helpers.log("Start inserting content campaigns into page","info"),object.state.waitReccEvent=!1,object.state.contentReccs){var cDom=document.getElementById(object.defaults.idPrefix+cId),newHtml;cDom&&data[cId]&&(!0===object.shop.content.campaigns[cId].siteParams.testMode&&"info"===object.defaults.debug||!object.shop.content.campaigns[cId].siteParams.testMode?(newHtml=object.Campaign.interpolateVars(data[cId]),cDom.innerHTML=newHtml,eval(object.Helpers.extractTagFromHtml(newHtml,"script")),object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.display,cId,object.state.contentReccs[cId]))):object.Helpers.log("Campaign "+cId+" not embeded because of test mode!","error"))}object.Helpers.log("Finished inserting content campaigns into page","info")},callBackRecommenderTwo:function(data){for(var cId in object.Helpers.log("Inserting recommender2 content","info"),data){var cDom,newHtml,newHtml,tpl,tpl;data.hasOwnProperty(cId)&&(cDom=document.getElementById(object.defaults.idPrefix+cId),cDom&&data[cId]&&(vtlodash.isString(data[cId])?newHtml=object.Campaign.interpolateVars(data[cId]):vtlodash.isObject(data[cId])&&(data[cId].loadLibrary&&eval(data[cId].loadLibrary),data[cId].campaign&&("content"==data[cId].campaign.type?object.shop.content.campaigns[cId]=data[cId].campaign:object.shop.campaigns[cId]=data[cId].campaign),newHtml=object.Campaign.interpolateVars(data[cId].html)),cDom.innerHTML=newHtml,eval(object.Helpers.extractTagFromHtml(newHtml,"script"))),object.state.pageCampaigns[cId]&&!0!==object.state.pageCampaigns[cId]?tpl=object.state.pageCampaigns[cId]:cDom&&cDom.getAttribute("data-tpl")&&(tpl=cDom.getAttribute("data-tpl")),tpl)&&object.Campaign.attachClickEvents(cId,tpl,cDom)}object.Helpers.log("Finish inserting recommender2","info")},getData:function(t,n){if("content"==n&&(vtlodash.size(object.state.contentReccs)<1||object.state.calledContentReccs))object.Helpers.log("No recommendations campaigns on page/already called! ","warning");else{var e,o,t={userId:object.User.data.userId,sessionId:object.User.data.sessionId,campaigns:t},a=(object.state.waitReccEvent&&0<=["content"].indexOf(n)&&(o={},a="",object.state.reccEvent&&(object.state.reccEvent.hasOwnProperty("viewitem")&&(object.Helpers.log("Recommender event "+JSON.stringify(object.state.reccEvent),"info"),o.itemId=object.state.reccEvent.viewitem.itemId,a="viewitem"),object.state.reccEvent.hasOwnProperty("addtocart")&&(object.Helpers.log("Recommender event "+JSON.stringify(object.state.reccEvent),"info"),o.itemId=object.state.reccEvent.addtocart.itemId,a="addtocart"),object.state.reccEvent.hasOwnProperty("viewcategory"))&&(object.Helpers.log("Recommender event "+JSON.stringify(object.state.reccEvent),"info"),o.category=object.state.reccEvent.viewcategory.category,a="viewcategory"),t.eventType=a,t.event=o),{data:JSON.stringify(t),callback:object.defaults.reccsCallbackTwo});if("content"==n&&(e=vtlodash.size(object.state.contentReccs)+" campaigns",a.callback=object.defaults.reccsCallbackContent,object.state.calledContentReccs=!0),"preview"==n&&(e="preview "+a.data,a.callback=object.defaults.reccsCallbackTwo,a.returnType="detail"),0!==vtlodash.size(t.campaigns))return o=object.defaults.reccsHost+object.shop.id+"/",o=object.Helpers.addQueryString(o,a),object.Helpers.log("Calling the recommender for "+e,"info"),object.Helpers.getAsync(o),t.campaigns;object.Helpers.log("Trying to request recommender without campaigns ","error")}}},object.Campaign={resetCampaign:function(t){var n={};n[t]=0,object.Helpers.updateCookie(object.defaults.cookieNames.sess,n),object.Helpers.removeCookie(object.defaults.cookieNames.cStatus+t)},extractAttributeFromClass:function(n){var t=new RegExp(object.defaults.siteClasses.attrPrefix+"([^\\s]+)","g");try{return t.lastIndex=0,t.exec(n)[1]}catch(t){object.Helpers.log("Error extracting attribute or from class "+n,"error")}return null},displayCampaign:function(cId,display){var campaign,ret,div,div,runJs,param,newHtml,div_t;return cId&&object.shop.campaigns[cId]?(campaign=object.shop.campaigns[cId],ret={},4==campaign.campaignType?(windowAlias._vtpoll.data=campaign,div=windowAlias._vtpoll.init(!1),documentAlias.getElementsByTagName("body")[0].appendChild(div),ret.tpl=0,object.Campaign.attachClickEvents(cId,ret.tpl,div)):(ret.tpl=object.Helpers.pickRandomPercentages(campaign.templatesPick.params),div=documentAlias.createElement("div"),object.Helpers.hideDom(div),div.setAttribute("id",object.defaults.idPrefix+cId),div.setAttribute("data-tpl",ret.tpl),runJs=!1,!1===campaign.templates[ret.tpl]?(param={},param[cId]=ret.tpl,object.Recommender.getData(param,"interaction")):(newHtml=object.Campaign.interpolateVars(campaign.templates[ret.tpl]),div.innerHTML=newHtml,runJs=!0),documentAlias.getElementsByTagName("body")[0].appendChild(div),runJs&&eval(object.Helpers.extractTagFromHtml(newHtml,"script")),object.Campaign.attachClickEvents(cId,ret.tpl,div),"timeOnPage"!==campaign.siteParams.trigger.mode&&campaign.teasers&&campaign.teasers[ret.tpl]&&(div_t=documentAlias.createElement("div"),div_t.setAttribute("id",object.defaults.idPrefix+cId+"_teaser"),div_t.setAttribute("data-tpl",ret.tpl),div_t.innerHTML=campaign.teasers[ret.tpl],documentAlias.getElementsByTagName("body")[0].appendChild(div_t),object.Helpers.log("Displaying teaser for "+cId,"info"),object.Campaign.attachTeaserClickEvents(cId,div_t,div))),display&&object.Helpers.showDom(div),ret.dom=div,ret):!1},embedCampaign:function(n,t,e){if(!window.vt_stopcampaigns){if(n&&t)return a="body",e&&e.vt_selector&&(a=documentAlias.querySelector(e.vt_selector)),a=object.Helpers.embedTag("div","",a,{id:object.defaults.idPrefix+n,"data-tpl":t}),(e={})[n]=t,object.Recommender.getData(e,"preview"),object.state.pageCampaigns[n]||(object.state.pageCampaigns[n]=t),a;var o,e=object.Helpers.getCookie(object.defaults.cookieNames.cStatus+n),t=((e=vtlodash.isNull(e)?{no:0}:e).stop&&!object.shop.campaigns[n].siteParams.displayCountSession&&"0"==object.shop.campaigns[n].siteParams.afterClose&&delete e.stop,object.User.context.session[n]),a=(vtlodash.isNull(t)&&(t=0),documentAlias.getElementById(object.defaults.idPrefix+n));try{if(object.shop.campaigns[n].siteParams.displayCountSession&&t>=object.shop.campaigns[n].siteParams.displayCountSession&&(object.Helpers.log("Number of displays per session overcome for "+n,"error"),e.stop=!0),!0===object.shop.campaigns[n].siteParams.testMode&&"info"!==object.defaults.debug)object.Helpers.log("Campaign "+n+" not embeded because of test mode!","error");else if(object.Campaign.checkDisplayLimits(n,object.shop.campaigns[n].siteParams)){if(!a)return(e.no<object.shop.campaigns[n].siteParams.displayCount||!object.shop.campaigns[n].siteParams.displayCount)&&!0!==e.stop?(object.Helpers.log("Embeding campaign "+n+" into page","info"),o=object.Campaign.displayCampaign(n,!1),e.tpl=o.tpl,object.Helpers.setCookie(object.defaults.cookieNames.cStatus+n,e),o.dom):void object.Helpers.log("Not allowed to embed campaign "+n,"warning");object.Helpers.log("Campaign element already in page "+n,"warning")}}catch(t){object.Helpers.log("Error trying to embed campaign "+n+". Does not exists or attr missing.","error")}}},checkContentLimits:function(t,n,e){t=t+"_"+e,e=(e=object.User.context.session[t])||0;return e+=1,n.displayCountSession&&e>n.displayCountSession?(object.Helpers.log("Number of displays per session overcome for "+t,"error"),!1):((n=object.User.context&&object.User.context.session||object.Helpers.getCookie(object.defaults.cookieNames.sess))[t]=e,object.Helpers.setCookie(object.defaults.cookieNames.sess,n,object.defaults.sessionDuration),!0)},embedContent:function(cDom,cId,siteParams,tId,groupId){var contentId=cId+"_"+groupId,newHtml;try{return object.Helpers.log("Content "+contentId+" "+tId+" into page","info"),cDom.setAttribute("id",object.defaults.idPrefix+cId),cDom.setAttribute("data-tpl",tId),!1===object.shop.content.templates[tId]?(object.state.contentReccs[cId]=tId,siteParams.eventBound&&(object.Helpers.log("Wait recc event is true","info"),object.state.waitReccEvent=!0)):(newHtml=object.Campaign.interpolateVars(object.shop.content.templates[tId]),cDom.innerHTML=newHtml,eval(object.Helpers.extractTagFromHtml(newHtml,"script")),object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.display,cId,tId))),object.Campaign.attachClickEvents(cId,tId,cDom),cDom}catch(e){return object.Helpers.log("Error trying to embed content "+contentId+". Does not exists or attr missing.","error"),!1}},runDisplayCampaign:function(cId){var campaign=object.shop.campaigns[cId],cStatus=object.Helpers.getCookie(object.defaults.cookieNames.cStatus+cId),cStatusSession=(cStatus.no+=1,cStatus.no===campaign.siteParams.displayCount&&(cStatus.stop=!0),cStatus&&cStatus.stop&&!object.shop.campaigns[cId].siteParams.displayCountSession&&delete cStatus.stop,object.Helpers.setCookie(object.defaults.cookieNames.cStatus+cId,cStatus),vtlodash.isNumber(object.User.context.session[cId])?object.User.context.session[cId]:0),sessContext=(cStatusSession+=1,object.User.context&&object.User.context.session||object.Helpers.getCookie(object.defaults.cookieNames.sess)),cDom;if(sessContext[cId]=cStatusSession,object.Helpers.setCookie(object.defaults.cookieNames.sess,sessContext,object.defaults.sessionDuration),cStatus&&(object.state.pageCampaigns[cId]=!0,object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.display,cId,cStatus.tpl)),object.Helpers.log("Campaign "+cId+" has been displayed","info")),cDom_t=documentAlias.getElementById(object.defaults.idPrefix+cId+"_teaser"),object.Helpers.hideDom(cDom_t),campaign.siteParams.jsDisplay)try{eval(campaign.siteParams.jsDisplay)}catch(e){}campaign.siteParams.autoClose&&0<campaign.siteParams.autoClose&&(cDom=cDom||documentAlias.getElementById(object.defaults.idPrefix+cId),setTimeout(function(){object.Helpers.hideDom(cDom)},1e3*campaign.siteParams.autoClose))},runRegex:function(t,n,e,o){for(var a,i=t;null!==(a=n.exec(t));){var s=a[1],r="";0<a[1].indexOf("|default")&&(s=a[1].substr(0,a[1].indexOf("|")),r=x.substr(x.indexOf("(")+2,x.indexOf(")")-x.indexOf("(")-3)),!(s=object.Helpers.getDeepValue(e,s)||r)&&o||(i=i.replace(a[0],s))}return i},interpolateVars:function(t,n,e){n=n||object.User.context;var o=new RegExp(/\*\*\|([^\s]+?)\|\*\*/g),t=object.Campaign.runRegex(t,o,n,e),o=new RegExp(/\{\{([^\s]+?)\}\}/g);return object.Campaign.runRegex(t,o,n,e)},increaseCountIsValid:function(t,n,e,o){var a=!1;return a="p"===t&&"session.pathname"===n||"e"==t&&vtlodash.isString(n)&&"session.vte."+o.type===n?!0:a},statusObserver:function(t,n){if(object.state.hasUser){if(object.Helpers.log("Starting Onsite campaigns observer "+t,"info"),"v"!==t&&object.shop.params.countConditions&&0<vtlodash.size(object.shop.params.countConditions)){object.Helpers.log("Increasing counts for display rules conditions","info");for(var e=(e=object.Helpers.getCookie(object.defaults.cookieNames.condCount))||{},o=0;o<vtlodash.size(object.shop.params.countConditions);o++){cond=object.shop.params.countConditions[o],condKey=object.shop.params.countConditionsKeys[cond.key+cond.op+cond.val];var a=object.Helpers.getContextValue(cond.key,t,n);object.Helpers.valuesComparer(a,cond.val,cond.op)&&object.Campaign.increaseCountIsValid(t,cond.key,a,n)&&(e[condKey]=e[condKey]||0,e[condKey]+=1)}object.Helpers.setCookie(object.defaults.cookieNames.condCount,e)}if(0<vtlodash.size(object.shop.campaigns)){for(cId in object.state.campaignsOK=[],object.state.campaignsBackendOK=[],object.shop.campaigns){var i,s,r=object.Helpers.getCookie(object.defaults.cookieNames.cStatus+cId);r&&r.stop&&!object.shop.campaigns[cId].siteParams.displayCountSession&&delete r.stop,object.shop.campaigns.hasOwnProperty(cId)&&(r&&!0!==r.stop||vtlodash.isNull(r))&&(r=!1,(c=object.shop.campaigns[cId]).siteParams.displayRulesOR&&0<c.siteParams.displayRulesOR.length&&(r=!0),c.siteParams.oroperator=c.siteParams.oroperator||"or",i=!1,object.Campaign.checkDisplayRules(c.siteParams.displayRules,!1)?(s=object.Campaign.checkDisplayRules(c.siteParams.displayRulesOR,!0),(!r||s&&"and"==c.siteParams.oroperator)&&(i=!0)):(s=object.Campaign.checkDisplayRules(c.siteParams.displayRulesOR,!0),r&&s&&"or"==c.siteParams.oroperator&&(i=!0)),i)&&(c.siteParams.backend?object.state.campaignsBackendOK:object.state.campaignsOK).push(cId)}if(object.tasks.addReadyListener(object.Campaign.triggerCampaigns,"trigc"),vtlodash.size(object.state.campaignsBackendOK)){var p={callback:object.defaults.backendCallback,userId:object.User.data.userId,campaigns:object.state.campaignsBackendOK},p=object.Helpers.addQueryString(object.defaults.backendHost+object.shop.id,p);if(object.state.botagent)return;object.Helpers.getAsync(p)}}object.Helpers.log("Ending Onsite campaigns observer "+t,"info")}else object.Helpers.log("No user, onsite campaigns delayed for "+t,"info"),setTimeout(function(){object.Campaign.statusObserver(t,n)},1e3)},triggerCampaigns:function(t){if(t=t||object.state.campaignsOK,0<vtlodash.size(t)){object.Helpers.log("Triggering campaigns that match display rules","info");for(var n,e=[],o=!1,a=0;a<vtlodash.size(t);a++)cId=t[a],object.shop.campaigns[cId]&&((n=object.shop.campaigns[cId]).siteParams.priority?vtlodash.isNumber(n.siteParams.priority)&&(o&&n.siteParams.priority>object.shop.campaigns[o].siteParams.priority||!o)&&(o=cId):e.push(cId));object.Helpers.log("No priority campaigns in "+e.length+". Max priority "+o,"info"),o&&(object.Campaign.triggerOne(o,object.shop.campaigns[o]),0<=e.indexOf(o))&&e.splice(e.indexOf(o),1);for(a=0;a<e.length;a++)object.Campaign.triggerOne(e[a],object.shop.campaigns[e[a]])}},triggerOne:function(l,e){var o;l&&(!e&&object.shop.campaigns[l]&&(e=object.shop.campaigns[l]),object.Helpers.log("Campaign "+l+" ready to be triggered: "+e.siteParams.trigger.mode,"info"),(o={timeOnPage:function(t,n){object.Helpers.log("Trigger "+l+" after "+n.delay+" seconds","info");n=vtlodash.isNumber(n.delay)&&1e3*n.delay||0;setTimeout(function(){(!object.shop.campaigns[l].siteParams.single||object.shop.campaigns[l].siteParams.single&&!object.state.singleFlag)&&(object.Helpers.showDom(t),object.Campaign.runDisplayCampaign(l),object.shop.campaigns[l].siteParams.single)&&(object.state.singleFlag=!0)},n)},onClose:function(t,n){object.Helpers.log("Trigger "+l+" on page unload ","info"),windowAlias.onbeforeunload=function(){return object.Helpers.showDom(t),object.Campaign.runDisplayCampaign(l),"?"}},onInactivity:function(t,n){object.state.inactivityCampaigns.push(l)}}).onExit=function(t,n){var o,a={sensitivity:n.sensitivity||20,timer:n.timer||1,delay:n.delay||0,cancelDelay:n.cancelDelay||!1,corner:n.corner||"any",cornerWidth:n.cornerWidth||50},e=document.documentElement,i=!1;function s(t){var n,e;t.clientY>a.sensitivity||(e=(n=Math.max(document.documentElement.clientWidth,window.innerWidth||0))*a.cornerWidth/100,"input"==t.target.tagName.toLowerCase())||"left"==a.corner&&t.clientX>e||"right"==a.corner&&t.clientX<n-e||"any"==a.corner&&t.clientX>e&&t.clientX<n-e||t.clientX>=n-50||(o=setTimeout(p,1e3*a.delay))}function r(){o&&a.cancelDelay&&(clearTimeout(o),o=null)}function c(t){i||t.metaKey&&76===t.keyCode&&(i=!0,o=setTimeout(p,a.delay))}function p(){object.Helpers.showDom(t),object.shop.campaigns[l].siteParams.single&&object.state.singleFlag?object.Helpers.hideDom(t):(object.Campaign.runDisplayCampaign(l),object.shop.campaigns[l].siteParams.single&&(object.state.singleFlag=!0)),e.removeEventListener("mouseleave",s),e.removeEventListener("mouseenter",r),e.removeEventListener("keydown",c),o&&clearTimeout(o)}"os"==a.corner&&(a.corner="left",0<=["Windows"].indexOf(object.User.context.session.osname))&&(a.corner="right"),setTimeout(function(){object.Helpers.addEventListener(e,"mouseleave",s),object.Helpers.addEventListener(e,"mouseenter",r),object.Helpers.addEventListener(e,"keydown",c)},1e3*a.timer),object.Helpers.log("Trigger "+l+" on exit intent","info")},o.onClick=function(n,t){if(t.selector){var e=documentAlias.querySelectorAll(t.selector);for(el in e)e.hasOwnProperty(el)&&object.Helpers.addEventListener(e[el],"click",function(t){t.preventDefault(),object.Helpers.showDom(n),object.state.pageCampaigns[l]||(!object.shop.campaigns[l].siteParams.single||object.shop.campaigns[l].siteParams.single&&!object.state.singleFlag)&&(object.Campaign.runDisplayCampaign(l),object.shop.campaigns[l].siteParams.single)&&(object.state.singleFlag=!0)},!1);object.Helpers.log("Trigger "+l+" on click elements "+t.selector,"info")}},o.onScroll=function(a,i){i.percent=vtlodash.isNumber(i.percent)?i.percent:25;object.Helpers.addEventListener(windowAlias,"scroll",function(t){var n=a,e=i.percent;try{var o=100*((document.documentElement.scrollTop+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)||0)}catch(t){o=0}e<=o&&!object.state.pageCampaigns[l]&&(!object.shop.campaigns[l].siteParams.single||object.shop.campaigns[l].siteParams.single&&!object.state.singleFlag)&&(object.Helpers.showDom(n),object.Campaign.runDisplayCampaign(l),object.shop.campaigns[l].siteParams.single)&&(object.state.singleFlag=!0)}),object.Helpers.log("Trigger "+l+" on % scroll ","info")},o.onLeave=function(t,n){var e;object.state.leaveCp=object.state.leaveCp||[],object.state.leaveCp.push(l),1==object.state.leaveCp.length&&history.replaceState&&(e=!1,object.Helpers.getExternalReferrer()?(object.state.exit_vtp=history.length-1,_vtsdk.User.context.session.exit_vtp=object.state.exit_vtp,object.Helpers.updateCookie(object.defaults.cookieNames.sess,{exit_vtp:object.state.exit_vtp}),e=!0):history.state&&history.state.vtp&&object.User.context.session.exit_vtp===history.state.vtp&&(object.state.exit_vtp=object.User.context.session.exit_vtp,e=!0),e)&&(object.Helpers.log("onLeave trigger is valid.","info"),history.replaceState({vtp:object.state.exit_vtp,href:location.href},""),history.pushState({vtp:object.state.exit_vtp+1,href:location.href},""),object.Helpers.addEventListener(windowAlias,"popstate",function(t){if(history.state&&history.state.vtp==object.state.exit_vtp)for(var n=0;n<object.state.leaveCp.length;n++){object.state.leaveCp[n];var e=documentAlias.getElementById(object.defaults.idPrefix+l);object.Helpers.showDom(e),object.Campaign.runDisplayCampaign(l)}}))},setTimeout(function(){if(0<=["complete","loaded","interactive"].indexOf(document.readyState)){var t=object.Campaign.embedCampaign(l),n=vtlodash.isNull(e.siteParams.trigger.params)?null:e.siteParams.trigger.params;if(t)return object.Helpers.log("Attaching trigger "+e.siteParams.trigger.mode+" for: "+l,"info"),o[e.siteParams.trigger.mode](t,n)}else object.Helpers.log("Document ready state: "+document.readyState+" for: "+l,"debug")},10))},triggerInactivityCampaigns:function(t){if(t+=2,object.state.inactivityCampaigns&&object.shop.params.hasActTriggers)for(var n,e=object.state.inactivityCampaigns.length-1;0<=e;e--){var o=object.state.inactivityCampaigns[e];!object.state.pageCampaigns[o]&&object.shop.campaigns[o].siteParams.trigger.params.delay<=t&&(object.Helpers.log("Valid inactivity campaign "+o,"info"),!object.shop.campaigns[o].siteParams.single||object.shop.campaigns[o].siteParams.single&&!object.state.singleFlag)&&(n=documentAlias.getElementById(object.defaults.idPrefix+o),object.Helpers.showDom(n),object.Campaign.runDisplayCampaign(o),object.shop.campaigns[o].siteParams.single)&&(object.state.singleFlag=!0)}},buildAttrObject:function(t,n){for(var e,o,a={},i=0;i<t.length;i++)try{(e=object.Campaign.extractAttributeFromClass(t[i].className))&&(n||-1==t[i].className.indexOf(object.defaults.siteClasses.submit))&&null!==(o=t[i]=t[i].value||null)&&""!==o&&(["radio","checkbox"].indexOf(t[i].type)<0||!0===t[i].checked)&&("tags"==e?(a[e]=a[e]||[],a[e].push(o)):a[e]=o)}catch(t){object.Helpers.log("Error getting attribute type and value from campaign inputs","error")}return a},createSiteEvent:function(t,n,e,o){var a={};if(t){o=o&&JSON.parse(JSON.stringify(o));var i=object.shop.campaigns[n]?object.shop.campaigns[n].campaignType:null;if(vtlodash.isNull(i)&&(i=null,vtlodash.isNull(i)&&(i=null==i&&object.shop.params.hasRunningContent&&object.shop.content.campaigns[n]?object.shop.content.campaigns[n].campaignType:null),vtlodash.isNull(i))&&(i=null==i&&object.shop.params.hasRunningAds&&object.shop.adserver&&object.shop.adserver.campaigns&&object.shop.adserver.campaigns[n]?object.shop.adserver.campaigns[n].campaignType:null),o&&o.campaignType&&(i=o.campaignType),!n||!e)return!1;a[t]={tracking:{vt_campaign:n,vt_content:e,campaignType:i=null===i?0:i}},o&&o.generic&&o.generic.tags&&(o.tags=o.generic.tags,delete o.generic.tags),vtlodash.isObject(o)&&(a[t]=vtlodash.merge(a[t],o))}return a},attachTeaserClickEvents:function(n,e,o){object.Helpers.addEventListener(e,"click",function(t){t.preventDefault(),0<=[t.target.className,t.target.parentElement.className].indexOf(object.defaults.siteClasses.close)?object.Helpers.hideDom(e):(object.Helpers.showDom(o),object.Campaign.runDisplayCampaign(n))},!1)},attachClickEvents:function(cId,tpl,cDom){var cDomDom=cDom;if(cDomDom&&cDomDom.innerHTML&&""===cDomDom.innerHTML.trim())object.Helpers.log("Empty tag, so we won't attach click events","error");else{var elem,toggle_fct=(object.Helpers.log("Attaching click events campaign: "+cId,"info"),function(t,n,e){try{if(e=e||documentAlias.getElementById(object.defaults.idPrefix+t)){var o,a=e.getElementsByClassName(n);for(o in a)a.hasOwnProperty(o)&&(a[o].style.display="none"==a[o].style.display?"block":"none")}}catch(t){console.log(t)}}),elem=cDom.querySelectorAll("[vtw-toggle]");for(el in elem)elem.hasOwnProperty(el)&&object.Helpers.addEventListener(elem[el],"click",function(t){return t.preventDefault(),object.Helpers.log("Toggle event attached to "+el+" element for "+cId,"info"),toggle_fct(cId,elem[el].getAttribute("vtw-toggle"),cDomDom)},!1);var click_fct=function(t,n,e){(object.shop.campaigns[t]||object.shop.content.campaigns[t]||!1)&&(object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.click,t,n)),object.Helpers.setAnalyticsSource(t,"interaction"),n=e.getAttribute("href"))&&"#"!=n[0]&&("_blank"==e.getAttribute("target")?window.open(n):window.location=n)};for(el in elem=cDom.getElementsByClassName(object.defaults.siteClasses.click),elem)elem.hasOwnProperty(el)&&object.Helpers.addEventListener(elem[el],"click",function(t){return"a"==elem[el].tagName.toLowerCase()&&t.preventDefault(),"body"==documentAlias.getElementById(object.defaults.idPrefix+cId).parentNode.tagName.toLowerCase()&&t.stopPropagation(),object.Helpers.log("Click event attached to "+el+" element for "+cId,"info"),click_fct(cId,tpl,t.currentTarget)},!1);var close_fct=function(cId,tpl,cDom){var cDom=cDom||documentAlias.getElementById(object.defaults.idPrefix+cId),cObject=object.shop.campaigns[cId]||object.shop.content.campaigns[cId]||!1;if(cDom&&(object.Helpers.hideDom(cDom),cObject)){if("0"!=cObject.siteParams.afterClose&&(cStatus=object.Helpers.getCookie(object.defaults.cookieNames.cStatus+cId),cStatus.stop=!0,object.Helpers.setCookie(object.defaults.cookieNames.cStatus+cId,cStatus,object.defaults.dayDuration*parseInt(cObject.siteParams.afterClose)),object.Helpers.log("Campaign "+cId+" not displayed for "+cObject.siteParams.afterClose+"days !","info")),cObject.siteParams.jsClose)try{eval(cObject.siteParams.jsClose)}catch(e){}cDom&&0<=cDom.className.indexOf(object.defaults.siteClasses.click)?(object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.click,cId,tpl)),object.Helpers.setAnalyticsSource(cId,"interaction")):object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.close,cId,tpl))}};for(el in elem=cDom.getElementsByClassName(object.defaults.siteClasses.close),elem)elem.hasOwnProperty(el)&&object.Helpers.addEventListener(elem[el],"click",function(t){t.preventDefault(),t.stopPropagation();try{if(0<=t.currentTarget.className.indexOf(object.defaults.siteClasses.overlay)&&t.target!==t.currentTarget)return!1}catch(t){}return object.Helpers.log("Close event attached to "+el+" element for "+cId,"info"),close_fct(cId,tpl,cDomDom)},!1);var submit_fct=function(target,cId,tpl,cDom){var cDom=cDom||documentAlias.getElementById(object.defaults.idPrefix+cId),cObject=object.shop.campaigns[cId]||object.shop.content.campaigns[cId]||!1;if(cDom){for(var reqOK=!0,invalidOK=!0,req=cDom.querySelectorAll("[required]"),class2Add="",i=0;i<req.length;i++){class2Add="",object.Helpers.inputHasValue(req[i],cDom)||(reqOK=!1,class2Add=" "+object.defaults.siteClasses.required);try{req[i].className=req[i].className.split(object.defaults.siteClasses.required).join("")+class2Add,req[i].parentNode&&(req[i].parentNode.className=req[i].parentNode.className.split(object.defaults.siteClasses.required).join("")+class2Add)}catch(e){}try{class2Add="",req[i].validity.valid||(class2Add=" "+object.defaults.siteClasses.invalid,req[i].className=req[i].className.split(object.defaults.siteClasses.invalid).join("")+class2Add,invalidOK=!1),req[i].parentNode&&(req[i].parentNode.className=req[i].parentNode.className.split(object.defaults.siteClasses.invalid).join("")+class2Add)}catch(e){}}if(reqOK)if(invalidOK){var elem=cDom.getElementsByClassName(object.defaults.siteClasses.attr),params=object.Campaign.buildAttrObject(elem,!1),submit_attr=object.Campaign.extractAttributeFromClass(target.className),next,current,cStatus;if(submit_attr&&target.value&&(params[submit_attr]=target.value),submitOK=!1,params.email&&object.Helpers.emailIsValid(params.email))params.email=object.Helpers.cleanEmail(params.email),object.shop.campaigns[cId]&&object.shop.campaigns[cId].tpl_data[tpl]&&(params=vtlodash.merge(params,object.shop.campaigns[cId].tpl_data[tpl])),params.generic={campaign:cId,content:tpl},object.state.eventQueue&&object.state.eventQueue.push({login:params}),submitOK=!0,object.Helpers.setAnalyticsSource(cId,"interaction"),delete params.generic;else if(params.email&&!object.Helpers.emailIsValid(params.email))return object.Helpers.showDom(cDom.getElementsByClassName(object.defaults.siteClasses.error)),void(cDom.className=cDom.className.split(object.defaults.siteClasses.invalid).join("")+" "+object.defaults.siteClasses.invalid);params.hasOwnProperty("email")&&!submitOK||(object.state.eventQueue&&object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.submit,cId,tpl,{generic:params})),object.Helpers.setAnalyticsSource(cId,"interaction"),next=target.getAttribute("nextstate"),current=target.getAttribute("currentstate"),next&&current&&(next=0===next.indexOf(object.defaults.siteClasses.classPrefix)?next:object.defaults.siteClasses.classPrefix+next,current=0===current.indexOf(object.defaults.siteClasses.classPrefix)?current:object.defaults.siteClasses.classPrefix+current,object.Helpers.showDom(cDom.getElementsByClassName(next)),object.Helpers.hideDom(cDom.getElementsByClassName(current))),object.Helpers.hideDom(cDom.getElementsByClassName(object.defaults.siteClasses.error)),cObject&&cObject.siteParams.afterSubmit&&("close"===cObject.siteParams.afterSubmit?setTimeout(function(){object.Helpers.hideDom(cDom)},2e3):0<parseInt(cObject.siteParams.afterSubmit)&&(cStatus=object.Helpers.getCookie(object.defaults.cookieNames.cStatus+cId),vtlodash.isNull(cStatus)&&(cStatus={no:1}),cStatus.stop=!0,object.Helpers.setCookie(object.defaults.cookieNames.cStatus+cId,cStatus,object.defaults.dayDuration*parseInt(cObject.siteParams.afterSubmit)),object.Helpers.log("Campaign "+cId+" not displayed for "+cObject.siteParams.afterSubmit+"days !","info"))));try{window.gtag("event","page_view",{page_location:"/submit?vt_campaign="+cId+"&vt_content="+tpl,category:object.shop.ganalytics.category})}catch(e){}var onsubmit=target.getAttribute("onsubmit"),url,url;if(onsubmit)try{eval(onsubmit)}catch(e){}if(cObject){if(cObject.siteParams.jsSubmit)try{eval(cObject.siteParams.jsSubmit)}catch(e){}cObject.siteParams.callEndpoint&&(url=object.Campaign.interpolateVars(cObject.siteParams.callEndpoint,params,!0),url=object.Campaign.interpolateVars(url,object.shop,!0),url=object.Campaign.interpolateVars(url),object.Helpers.getAsync(url))}}else cDom.className=cDom.className.split(object.defaults.siteClasses.invalid).join("")+" "+object.defaults.siteClasses.invalid,object.Helpers.showDom(cDom.getElementsByClassName(object.defaults.siteClasses.error));else cDom.className=cDom.className.split(object.defaults.siteClasses.required).join("")+" "+object.defaults.siteClasses.required,object.Helpers.showDom(cDom.getElementsByClassName(object.defaults.siteClasses.error))}};for(el in elem=cDom.getElementsByClassName(object.defaults.siteClasses.submit),elem)elem.hasOwnProperty(el)&&object.Helpers.addEventListener(elem[el],"click",function(t){return t.preventDefault(),t.stopPropagation(),object.Helpers.log("Submit event attached to "+el+" element for "+cId,"info"),submit_fct(t.currentTarget,cId,tpl,cDomDom)},!1)}},checkDisplayRules:function(t,n){for(var e=vtlodash.size(t),o=n?!1:!0,a=object.Helpers.getCookie(object.defaults.cookieNames.condCount),i=0;i<e;i++){var s=t[i],r=object.Helpers.getContextValue(s.key),r=object.Helpers.valuesComparer(r,s.val,s.op);try{contextCountVal=a[object.shop.params.countConditionsKeys[s.key+s.op+s.val]]}catch(t){contextCountVal=null}if(r&&s.hasOwnProperty("count")&&null!=contextCountVal&&(r=object.Helpers.valuesComparer(contextCountVal,s.count.val,s.count.op)),!n&&!r)return!1;if(n&&r)return!0}return o},checkDisplayLimits:function(t,n){var e;return!(!vtlodash.isObject(n)||((e=object.Helpers.getCookie(object.defaults.cookieNames.capping+t))&&(n.dulimit&&e.dulimit>=n.dulimit||n.dlimit&&e.dlimit>=n.dlimit||n.mlimit&&e.mlimit>=n.mlimit)?(object.Helpers.log("Capping exceeded for "+t,"warning"),1):(n.start&&n.startDate>object.defaults.nowTime||n.end&&n.endDate<object.defaults.nowTime)&&(object.Helpers.log("Time limits exceeded for "+t,"warning"),1)))},returnContentEmbedLocation:function(t,n=!0){var e=null,o="body",a=null;return t?(a=documentAlias.querySelector(t),object.Helpers.isDomNode(a)&&(o="selector",e=documentAlias.createElement("div"))):n&&(e=documentAlias.createElement("div")),[e,o,a]},embedContentWrapper:function(t,n,e,o){if("selector"==n)switch(t){case"append":e.appendChild(o);break;case"prepend":e.insertBefore(o,e.firstChild);break;case"after":e.parentNode.insertBefore(o,e.nextSibling);break;case"before":e.parentNode.insertBefore(o,e);break;default:e.innerHTML="",e.appendChild(o)}else documentAlias.body.appendChild(o)},processSingleContent:function(t,n,e,o=!1){if(e=e||{},"number"!=typeof t||(t=_vtsdk.shop.content.campaigns[t])){if("single"==t.siteParams.locations){var a=object.Campaign.returnContentEmbedLocation(t.siteParams.selector,!0);if(cDom=a[0],object.Helpers.isDomNode(cDom)){var i=object.Helpers.pickRandomPercentages(t.content[n].templatesPick);if(object.Campaign.embedContentWrapper(t.siteParams.embedType,a[1],a[2],cDom),!o&&!object.Campaign.checkContentLimits(t.id,t.siteParams[t.content[n].id],t.content[n].id))return void object.Helpers.log("Group "+n+" embeded issue "+t.id,"error");object.Campaign.embedContent(cDom,t.id,t.siteParams[t.content[n].id],i,t.content[n].id),object.Helpers.log("Group "+n+" embeded for campaign "+t.id,"info"),e[t.id]=t.content[n].id}}else if("multi"==t.siteParams.locations){if(!o&&!object.Campaign.checkContentLimits(t.id,t.siteParams[t.content[n].id],t.content[n].id))return void object.Helpers.log("Group "+n+" embeded issue "+t.id,"error");for(var s=t.content[n].templates.length-1;0<=s;s--){var r=t.content[n].templates[s],a=object.Campaign.returnContentEmbedLocation(t.content[n].selector[r],!0);object.Helpers.isDomNode(a[0])&&(object.Campaign.embedContentWrapper(t.content[n].embedType[r],a[1],a[2],a[0]),object.Campaign.embedContent(a[0],t.id,t.siteParams[t.content[n].id],r,t.content[n].id),object.Helpers.log("Group "+n+" embeded for campaign "+t.id,"info"),e[t.id]=t.content[n].id)}}return e}},processContentCampaigns:function(){if(!1!==object.shop.params.hasRunningContent&&!0!==object.state.calledContent){object.state.contentReccs=object.state.contentReccs||{},object.state.waitReccEvent=!1,object.Helpers.log("Started content campaigns!","info");var t={};for(cId in object.shop.content.campaigns)if(object.shop.content.campaigns.hasOwnProperty(cId)&&object.Campaign.checkDisplayLimits(cId,object.shop.content.campaigns[cId].siteParams)){var n=object.shop.content.campaigns[cId];if(!n.siteParams.testMode||!0===n.siteParams.testMode&&"info"===object.defaults.debug){object.Helpers.log("Embedding content "+(n.siteParams.selector||"page")+" for "+cId,"info");for(var e=vtlodash.size(n.content),o=0;o<e;o++){var a,i=n.content[o].displayRulesOR&&0<n.content[o].displayRulesOR.length,s=(n.content[o].oroperator=n.content[o].oroperator||"or",!1);object.Campaign.checkDisplayRules(n.content[o].displayRules,!1)?(a=object.Campaign.checkDisplayRules(n.content[o].displayRulesOR,!0),(!i||a&&"and"==n.content[o].oroperator)&&(s=!0)):(a=object.Campaign.checkDisplayRules(n.content[o].displayRulesOR,!0),i&&a&&"or"==n.content[o].oroperator&&(s=!0)),n.content[o].checkBackend&&object.state.backendContent[n.id]&&!object.state.backendContent[n.id][n.content[o].id]?object.Helpers.log("Group "+o+" backend invalid "+cId,"error"):s?t=object.Campaign.processSingleContent(n,o,t):object.Helpers.log("Group "+o+" not matching conditions "+cId,"info")}}else object.Helpers.log("Campaign "+cId+" not embeded. Test mode or no element!","error")}return object.state.calledContent=!0,(object.state.waitReccEvent&&vtlodash.isObject(object.state.reccEvent)||!1===object.state.waitReccEvent)&&(object.Helpers.log("Recc Event is already here!","warning"),object.Recommender.getData(object.state.contentReccs,"content")),t}},cacheBackendCheck:function(t){if(!t&&object.shop.content.backendContent&&object.shop.content.backendContent.length&&(object.state.backendContent=object.Helpers.getCookie(object.defaults.cookieNames.backendCache),!object.state.backendContent)&&!object.state.reqBackendCheck){var n={callback:object.defaults.cacheBackendCheck,userId:object.User.data.userId,campaigns:object.shop.content.backendContent},n=object.Helpers.addQueryString(object.defaults.backendHost+object.shop.id,n);if(object.state.botagent)return;object.Helpers.getAsync(n),object.state.reqBackendCheck=!0}t&&(object.Helpers.setCookie(object.defaults.cookieNames.backendCache,t,18e5),object.state.backendContent=t)}},object.queueManager={eventsObserver:function(){if(object.state.hasUser)if(object.state.waitUserRequest)object.Helpers.log("Requesting user!","error");else{var t=object.state.eventQueue.shift();if(t)if(object.defaults.stopevents)object.Helpers.log("Events are stopped!","error");else{object.state.pageQueue.push(t);var n=object.eventApi.convertEventObject(t);if((t.viewitem||t.viewcategory||t.addtocart)&&object.eventApi.validateEvent(n)&&(object.Helpers.log("Store possible recc event!","info"),object.state.reccEvent=t),t.login&&object.eventApi.validateEvent(n)&&object.state.loginHash!=object.eventApi.hashEvent(n))t.login.email?(t.login.email=object.Helpers.cleanEmail(t.login.email),object.User.changeUserByEmail(t.login.email)):t.login.uuid&&object.User.changeUserByUuid(t.login.uuid),object.state.loginToPush=t,object.state.loginHash=object.eventApi.hashEvent(n);else{if(!vtlodash.isArray(t))return 1<=vtlodash.size(object.state.contentReccs)&&object.state.waitReccEvent&&object.state.reccEvent&&object.Recommender.getData(object.state.contentReccs,"content"),"login"==t.type&&(t.generic=t.generic||{},t.generic.sec=Math.round(((new Date).getTime()-object.defaults.nowTimeLocal)/1e3)),object.eventApi.sendEvent(t)&&object.tasks.createVisitorContext("e",t),object.Campaign.statusObserver("e",n),t;"setVar"===t[0]&&(object.setVar(t[1],t[2]),object.Campaign.statusObserver("v"))}}}else object.Helpers.log("No local user, exiting!","error")}},object.tasks={runShopJS:function(){if(object.shop.params.customJS&&!object.state.runCustomJS){object.state.runCustomJS=!0;try{eval(object.shop.params.customJS)}catch(e){object.Helpers.log("Error running custom JS for shop "+e.message,"error")}}},followDataLayer:function(){var t=object.Helpers.readDataLayer();t&&(object.User.context.vars=object.User.context.vars||{},object.User.context.vars.dataLayer=t)},requestWebID:function(t){var n;t=t||object.shop.params.webidTags.join(","),object.shop.params.getVisitorWebid&&windowAlias._vtwebid&&t&&(!(n=object.Helpers.getCookie(object.defaults.cookieNames.webid))&&t?(t=windowAlias._vtwebid.return_tags_url(object.shop.id,t,""),vtlodash.request(t,function(t){vtlodash.isString(t)&&(t=JSON.parse(t)),vtlodash.isObject(t)&&(object.Helpers.setCookie(object.defaults.cookieNames.webid,t,object.defaults.shortDuration),object.User.context.webid=t)})):vtlodash.isObject(n)&&(object.User.context.webid=n))},checkUserIdentity:function(){object.Helpers.log("Checking user identity from URL params","info");for(var t=object.defaults.userIndentityParams.length-1;0<=t;t--){var n,e=object.defaults.userIndentityParams[t];if(object.User.context.session.urlparams.hasOwnProperty(e))return n=object.User.context.session.urlparams[e],"vt_user"==e&&n.length==object.defaults.userKeyLength?object.User.changeUserById(n):object.Helpers.emailIsValid(n)&&object.User.changeUserByEmail(n),!0}return!1},createUserContext:function(t){object.Helpers.log("Creating User context","info");var n=object.User.getLocalUser();n?(object.User.data=n,object.state.hasUser=!0):t||object.User.requestUser()},createVisitorContext:function(trigger,vtevent){object.Helpers.log("Creating visitor context for "+trigger,"info");var allContext=object.User.context&&object.User.context.all||object.Helpers.getCookie(object.defaults.cookieNames.all),sessContext=object.User.context&&object.User.context.session||object.Helpers.getCookie(object.defaults.cookieNames.sess),allChanged=sessChanged=!1,session_is_new=(vtevent=vtevent||null,trigger=trigger||"p",null==allContext&&(allContext={noVisits:0,firstVisit:object.defaults.nowTime,lastVisit:object.defaults.nowTime},allChanged=!0),!1);if("p"==trigger){var urlparams=object.Helpers.getURLParams(windowAlias.location.search),currentUTM={utm_source:null,utm_term:null,utm_campaign:null,utm_content:null,utm_medium:null},newReferrer=(null!=sessContext&&(currentUTM=vtlodash.overwrite(currentUTM,sessContext)),currentUTM=vtlodash.overwrite(currentUTM,urlparams),null==sessContext&&(sessContext={pathname:"",landing:windowAlias.location.pathname,noPageViews:0,firstVisit:object.defaults.nowTime,city:"",country:""},sessChanged=!0,allContext.noVisits+=1,allContext.lastVisit=sessContext.firstVisit,allChanged=!0,session_is_new=!0),object.Helpers.getExternalReferrer()),params,i;for(i in(newReferrer||urlparams.utm_campaign)&&(sessContext.lastReferrer=newReferrer,newReferrer!=allContext.lastReferrer&&(allContext.lastReferrer=newReferrer,allChanged=!0),object.shop.params.referer)&&(params={domain:object.Helpers.extractDomain(newReferrer),url:newReferrer},newReferrer&&(params.generic={url:newReferrer}),params=vtlodash.merge(params,currentUTM),object.state.eventQueue.push({referer:params})),currentUTM)currentUTM.hasOwnProperty(i)&&delete urlparams[i];sessContext.urlparams=urlparams,sessContext=vtlodash.merge(sessContext,currentUTM),sessContext.timeOnSite=Math.round((object.defaults.nowTime-sessContext.firstVisit)/1e3/60);var current={pathname:windowAlias.location.pathname+windowAlias.location.search+windowAlias.location.hash,homepage:"/"==windowAlias.location.pathname,title:documentAlias.title,hostname:windowAlias.location.hostname,urlparams:urlparams,osname:object.Helpers.osName(),browser:object.Helpers.browserInfo("name"),browserVersion:object.Helpers.browserInfo("version"),lang:object.Helpers.browserLang(),deviceType:object.Helpers.deviceType(),vt_campaign:urlparams.vt_campaign||null,vt_content:urlparams.vt_content||null,noPageViews:sessContext.noPageViews+=1},fs,db;if(urlparams.vt_campaign&&urlparams.vt_content&&(current.vt_click=urlparams.vt_campaign+"_"+urlparams.vt_content),object.shop.push&&object.shop.push.enabled&&(current.pushValid=!0,"chrome"==current.browser?(current.pushValid=!0,fs=window.RequestFileSystem||window.webkitRequestFileSystem,fs&&fs(window.TEMPORARY,100,function(){object.User.context.session.private=!1},function(){object.User.context.session.private=!0,object.User.context.session.pushValid=!1})):"firefox"==current.browser&&(current.pushValid=!0,db=indexedDB.open("test"),db.onerror=function(){object.User.context.session.private=!0,object.User.context.session.pushValid=!1},db.onsuccess=function(){object.User.context.session.private=!1})),sessContext=vtlodash.merge(sessContext,current),object.shop.push&&object.shop.push.enabled&&object.webpush&&!object.state.webpush&&(object.state.webpush=!0),object.shop.params.pageJS&&!object.state.runPageJS){object.state.runPageJS=!0,vtlodash.isArray(object.shop.params.pageJS)||(object.shop.params.pageJS=[object.shop.params.pageJS]);for(var i=0;i<object.shop.params.pageJS.length;i++)try{eval(object.shop.params.pageJS[i])}catch(e){object.Helpers.log("Error running pageJS "+i+": "+e.message,"error")}}}else if("e"==trigger){var current={};switch(vtevent=object.eventApi.convertEventObject(vtevent),sessChanged=!0,sessContext.vte=sessContext.vte||{},sessContext.vte[vtevent.type]=sessContext.vte[vtevent.type]?sessContext.vte[vtevent.type]+1:1,vtevent.type){case"viewitem":object.setVar("pageType","product");break;case"viewcategory":object.setVar("pageType","category");break;case"confirmation":object.setVar("pageType","confirmation"),allContext.isCustomer=!0,allChanged=!0,allContext.lastPurchaseDays=object.defaults.nowTime,allContext.firstPurchaseDays=allContext.firstPurchaseDays||object.defaults.nowTime,object.eventApi.pushNext("requser");break;case"addtocart":sessContext.lastaddcart=object.defaults.nowTime;break;case"search":object.setVar("pageType","search");break;case"addtowishlist":break;case"checkout":object.setVar("pageType","checkout")}}if(allChanged&&object.Helpers.setCookie(object.defaults.cookieNames.all,allContext),sessChanged&&object.Helpers.setCookie(object.defaults.cookieNames.sess,sessContext,object.defaults.sessionDuration),sessContext.lastaddcartSec=sessContext.lastaddcart?Math.round((object.defaults.nowTime-sessContext.lastaddcart)/1e3):null,allContext.lastPurchaseDays=allContext.lastPurchaseDays?Math.round((object.defaults.nowTime-allContext.lastPurchaseDays)/object.defaults.dayDuration):null,allContext.firstPurchaseDays=allContext.firstPurchaseDays?Math.round((object.defaults.nowTime-allContext.firstPurchaseDays)/object.defaults.dayDuration):null,allContext.lastVisitDays=allContext.lastVisitDays?Math.round((object.defaults.nowTime-allContext.lastVisitDays)/object.defaults.dayDuration):null,allContext.firstVisitDays=allContext.firstVisitDays?Math.round((object.defaults.nowTime-allContext.firstVisitDays)/object.defaults.dayDuration):null,object.User.context.session=sessContext,object.User.context.all=allContext,object.User.context.all.hasEmail=object.User.isIdentified(),object.User.context.all.hasPush=!!object.User.data.push,object.User.context.all.hasTel=!!object.User.data.tel,object.User.context.all.isCustomer=!!object.User.data.isC,object.User.context.all.noPurchases=object.User.data.noP||0,object.User.context.date=object.Helpers.dateContext(),object.Helpers.log("Done creating visitor context for "+trigger,"info"),session_is_new&&(object.User.requestUser(),object.state.eventQueue.push({update:{lastVisitDate:object.defaults.nowTime}}),object.shop.params.sessionJS)&&!object.state.runSessionJS){object.state.runSessionJS=!0,vtlodash.isArray(object.shop.params.sessionJS)||(object.shop.params.sessionJS=[object.shop.params.sessionJS]);for(var i=0;i<object.shop.params.sessionJS.length;i++)try{eval(object.shop.params.sessionJS[i])}catch(e){object.Helpers.log("Error running sessionJS "+i+": "+e.message,"error")}}return!0},domIsUpdated:function(){object.Helpers.log("Document changed, adding input listeners again","info"),object.Helpers.addEventListener("document","change",object.Helpers.inputEmailListening)},sendClickEvents:function(){object.Helpers.log("Start generate click events","info");var t,n,e=object.User.context.session.urlparams.vt_campaign,o=object.User.context.session.urlparams.vt_content;(e&&o&&object.shop.content.campaigns[e]||object.shop.campaigns[e]&&object.shop.campaigns[e].templatesPick.params[o]||object.shop.params.hasRunningAds&&object.shop.adserver.campaigns[e]&&object.shop.adserver.templates[o])&&(n={},(t=object.User.context.session.urlparams.vt_product)&&(n={itemId:t}),object.state.eventQueue.push(object.Campaign.createSiteEvent(object.defaults.siteEvents.click,e,o,n)),object.Helpers.log("Generate click for onsite: "+e+":"+o,"info"))},getVisitorInfo:function(){var t;!1!==object.shop.params.getVisitorInfo&&((t=object.Helpers.getCookie(object.defaults.cookieNames.visitor))?vtlodash.isObject(t)&&(object.User.context.session=vtlodash.merge(object.User.context.session,t)):vtlodash.request(object.defaults.visitorHost,function(t){vtlodash.isString(t)&&(t=JSON.parse(t)),vtlodash.isObject(t)&&(t={city:t.city,state:t.regionName,region_code:t.region,country:t.country,country_code:t.countryCode,org:t.org},object.Helpers.setCookie(object.defaults.cookieNames.visitor,t,object.defaults.monthDuration),object.User.context.session=vtlodash.merge(object.User.context.session,t))}))},callbackNull:function(t){object.Helpers.log("Callback without an active role","info")},callbackVisitor:function(t){vtlodash.isObject(t)&&(object.Helpers.setCookie(object.defaults.cookieNames.visitor,t,object.defaults.dayDuration),object.User.context.session=vtlodash.merge(object.User.context.session,t))},injectCss:function(t){object.shop.params.embedCSS&&(object.Helpers.embedTag("link","","head",{href:t,type:"text/css",rel:"stylesheet"}),object.Helpers.log("Injecting proprietary CSS into page","info"))},inputEmailListening:function(){if(!1!==object.shop.params.emailGrab){object.Helpers.log("Adding blur event listeners for every input field.","info");function t(t){var n={login:{email:object.Helpers.cleanEmail(t.target.value)}};object.shop.params.grabSource&&(n.login.source=object.shop.params.grabSource);try{var e;(e=t.target.form.id)&&(n.login.generic={form:e,input:t.target.id||""})}catch(t){}-1===t.target.className.indexOf(object.defaults.siteClasses.attr)&&object.Helpers.emailIsValid(t.target.value)&&object.state.eventQueue.push(n)}var n=object.shop.params.listenFields||"input[type=text],input[type=email],input[type=input]",e=document.querySelectorAll(n);for(i in e)e.hasOwnProperty(i)&&object.Helpers.addEventListener(e[i],"blur",t,!1)}},addReadyListener:function(e,o){var t;object.Helpers.log("Run ready for "+o,"info"),"complete"===documentAlias.readyState?(object.Helpers.log("Run loadHandler 0"+o,"info"),e()):(documentAlias.addEventListener?(object.Helpers.addEventListener(documentAlias,"DOMContentLoaded",function t(){object.Helpers.log("Run loadHandler 1"+o,"info"),e(),documentAlias.removeEventListener("DOMContentLoaded",t,!1)}),object.Helpers.log("Added ready for "+o,"info")):documentAlias.attachEvent&&(documentAlias.attachEvent("onreadystatechange",function t(){"interactive"!==documentAlias.readyState&&"loaded"!==documentAlias.readyState||(e(),documentAlias.detachEvent("onreadystatechange",t),object.Helpers.log("Run loadHandler 2"+o,"info"))}),documentAlias.documentElement.doScroll)&&windowAlias===windowAlias.top&&function n(){if(!object.state.hasLoaded){try{documentAlias.documentElement.doScroll("left")}catch(t){return void setTimeout(n,0)}object.Helpers.log("Run loadHandler 3"+o,"info"),e()}}(),new RegExp("WebKit").test(navigator.userAgent)?t=setInterval(function(){(object.state.hasLoaded||/loaded|complete/.test(documentAlias.readyState))&&(object.Helpers.log("Run loadHandler 4"+o,"info"),clearInterval(t),e())},10):(object.Helpers.log("Added load event listener at the end"+o,"info"),object.Helpers.addEventListener(windowAlias,"load",e,!1)))}},object.setVar=function(t,n,e){0!==e&&1!==e&&2!==e&&(e=0),/^[\s\/a-zA-Z0-9:.\-_;#$!@^&*=<>\\,|{}?]+$/.test(n)&&("VTuser"===t?(n&&n.indexOf("@")<0&&atob(n)&&(n=atob(n)),object.User.isIdentified()||object.User.changeUserByEmail(n)):"VTsid"===t?object.state._vtsid=n:object.User.context.vars[t]=n)},object.init=function(){if(!object.state.ready){object.state.ready=!0,object.state.storage=object.Helpers.getStorageType();try{var t=object.Helpers.getCookie(object.defaults.cookieNames.ts);t&&(object.state.timeDiff=t,object.defaults.nowTime=object.defaults.nowTimeLocal-t)}catch(t){console.log(t)}object.state.botagent=!1;try{object.state.botagent=/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)}catch(t){object.Helpers.log("Error checking for bot agents!","error")}windowAlias.location.hostname.indexOf(object.shop.domain);try{var e;"undefined"!=typeof Prototype&&parseFloat(Prototype.Version.substr(0,3))<1.7&&void 0!==Array.prototype.toJSON&&(e=JSON.stringify,JSON.stringify=function(t){var n=Array.prototype.toJSON,t=(delete Array.prototype.toJSON,e(t));return Array.prototype.toJSON=n,t})}catch(t){}var t=object.Helpers.getCookie(object.defaults.cookieNames.debug);object.defaults.debug=object.shop.debug||object.defaults.debug,t&&(object.defaults.debug=t),object.Helpers.getCookie(object.defaults.cookieNames.stopevents)&&(object.defaults.stopevents=1),object.state.pageQueue=[],object.state.eventQueue=windowAlias._vteq||[],0<=windowAlias.location.search.indexOf("vt_preview=")?(t=object.Helpers.getURLParams(windowAlias.location.search),object.shop.params.embedCSS=!0,object.tasks.injectCss(object.defaults.stylesheet),object.defaults.debug="info",object.tasks.createUserContext(),object.tasks.createVisitorContext("p"),object.Campaign.embedCampaign(t.vt_campaign,t.vt_content,{vt_selector:window.atob(decodeURIComponent(t.vt_selector||""))})):(object.state.eventQueueId=setInterval(object.queueManager.eventsObserver,object.defaults.queueCheckInterval),object.tasks.createUserContext(!0),object.tasks.createVisitorContext("p"),object.state.webpush&&object.tasks.addReadyListener(object.webpush.instantiate,"wpins"),object.Campaign.statusObserver("p"),object.tasks.addReadyListener(object.Campaign.cacheBackendCheck,"cber"),object.tasks.addReadyListener(object.Campaign.processContentCampaigns,"emcon"),object.Helpers.vtPostMessage(),object.User.context.session.urlparams.vt_debug&&(object.Helpers.setCookie(object.defaults.cookieNames.debug,object.User.context.session.urlparams.vt_debug),object.defaults.debug=object.User.context.session.urlparams.vt_debug),1==object.User.context.session.urlparams.vt_stopevents?(object.Helpers.setCookie(object.defaults.cookieNames.stopevents,1),object.defaults.stopevents=1):0==object.User.context.session.urlparams.vt_stopevents&&object.Helpers.removeCookie(object.defaults.cookieNames.stopevents),object.tasks.checkUserIdentity(),object.tasks.createUserContext(),object.tasks.addReadyListener(function(){object.state.hasLoaded||(object.state.hasLoaded=!0,object.Helpers.log("Running onLoad functions","info"),object.tasks.inputEmailListening(),object.tasks.injectCss(object.defaults.stylesheet),object.tasks.runShopJS())},"loadh"),object.tasks.getVisitorInfo(),object.setVar("random",object.Helpers.generateRandomBetween(0,100,!0)),object.tasks.sendClickEvents(),object.tasks.followDataLayer(),object.Helpers.setAnalyticsUser(),object.state.timeDiff,object.User.activityInit(),(t=object.Helpers.getCookie(object.defaults.cookieNames.ne))&&("requser"==t?object.User.requestUser():object.state.eventQueue.push(t),object.Helpers.removeCookie(object.defaults.cookieNames.ne)),object.tasks.requestWebID(),object.Helpers.writeCookie(object.defaults.prefix+object.defaults.cookieNames.shop,object.shop.id))}},object}()),checkInit(),_vtshop={};
